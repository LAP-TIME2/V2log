# 다중 원판 감지: 최적 카메라 포지셔닝 조사 보고서

**날짜**: 2026-02-18
**목적**: Bbox Aspect Ratio 방식으로 겹친 원판 장수를 추정할 때, 카메라 각도/거리를 통제하면 정확도가 개선되는지 조사
**배경**: 헬스장 A/B/C 테스트에서 3개 접근법 모두 실패 → "각도를 일정하게 하면 되는 거 아닌가?" 질문에 대한 답변

---

## 1. 기하학 분석

### 원판 물리 치수 (IWF 표준)

| 원판 | 지름 (mm) | 두께 (mm) | 두께/지름 비율 |
|------|----------|----------|--------------|
| 20kg | 450 | 33-52 | 0.073-0.116 |
| 15kg | 375 | 34-45 | 0.091-0.120 |
| 10kg | 290 | 34-39 | 0.117-0.134 |
| 5kg | 248 | 22-27 | 0.089-0.109 |
| 2.5kg | 213 | 16-19 | 0.075-0.089 |

**핵심 문제**: 두께/지름 비율이 7-13%로 극히 작음. 3장 겹쳐도 총 두께가 지름의 35%밖에 안 됨.

### 투영 기하학: 각도별 Aspect Ratio

카메라 각도 θ (바벨 축 기준, 0°=바벨 끝에서 봄, 90°=원판 정면):

```
bbox 가로 = D × sin(θ) + N × t × cos(θ)
bbox 세로 = D (항상 일정)
Aspect Ratio = D ÷ (D × sin(θ) + N × t × cos(θ))
```

### 20kg 원판 (D=450mm, t=45mm) 계산 결과

| 바벨축 기준 각도 | 1장 AR | 2장 AR | 3장 AR | 4장 AR | 1→2장 차이 |
|----------------|--------|--------|--------|--------|-----------|
| 90° (정면) | 1.000 | 1.000 | 1.000 | 1.000 | 0.000 |
| 75° | 1.024 | 1.048 | 1.071 | 1.094 | 0.024 |
| 60° | 1.062 | 1.118 | 1.169 | 1.216 | 0.056 |
| 45° | 1.132 | 1.244 | 1.340 | 1.424 | 0.112 |
| 30° | 1.265 | 1.482 | 1.660 | 1.808 | 0.217 |
| 15° | 1.576 | 1.998 | 2.313 | 2.551 | 0.422 |
| 0° (측면) | 10.000 | 5.000 | 3.333 | 2.500 | -5.000 |

### 최적 각도: 15-30° (바벨 축 기준)

= 원판 정면에서 60-75° 비스듬히 보는 것

---

## 2. 신호 대 잡음비 (SNR) 분석 — 핵심 결론

### 신호 (1장 → 2장 변화량)

30° 각도에서 20kg 원판: **0.217**

### 잡음 원인 (누적)

| 잡음 원인 | 크기 |
|----------|------|
| YOLO bbox 지터 (2-3px 변동) | ±0.05 |
| 원판 형상 불규칙 (손잡이 구멍, 각인) | ±0.03 |
| 렌즈 왜곡 (전면 광각 카메라) | ±0.04 |
| 원근 왜곡 (팔 길이 거리) | ±0.05 |
| 바벨 기울기 (5° 오차) | ±0.03 |
| 부분 가림 (손, 랙) | ±0.05 |
| **합계 (RSS)** | **±0.10 ~ 0.12** |

### SNR 계산

```
SNR = 신호 ÷ 잡음 = 0.217 ÷ 0.11 ≈ 2.0

→ 정확도 ~70% (1장 vs 2장, 20kg)
→ 2장 vs 3장: SNR ≈ 1.6, ~60%
→ 5kg 원판: SNR ≈ 1.1, ~55% (추측과 거의 동일)
```

### 각도 오차의 파괴적 영향

사용자가 30°를 목표로 했는데 실제 20°인 경우:
- 1장 AR: 1.164 (예상 1.265)
- 2장 AR: 1.312 (예상 1.482)
→ 2장을 1장으로 잘못 판정

**각도를 정확히 통제하지 않으면 AR↔장수 매핑 자체가 모호해짐**

---

## 3. 업계 사례: Tempo의 실패

**Tempo** = 카메라 기반 무게 인식을 시도한 유일한 상용 제품

- **전용 ToF(깊이) 카메라** 사용 (일반 RGB 아님)
- **전용 컬러코딩 원판** 사용
- **공식 FAQ**: "같은 색 원판을 2장 겹치지 마세요 — 무게 인식이 감지할 수 없습니다"
- **바벨 지원 안 함** — 덤벨만 가능, 10lbs 이하만

→ **전용 하드웨어 + 전용 원판으로도 겹친 동일 원판 감지 불가**

---

## 4. 학술 연구

### "Counting Stacked Objects from Multi-View Images" (Dumery et al., 2024)
- **30-60장의 다중 뷰 이미지** 필요 (단일 뷰 아님!)
- 3D Gaussian Splatting + 단안 깊이 추정 사용
- 논문 자체가 "단일 뷰로 동일 겹친 물체 세기는 근본적으로 어렵다"고 인정

### 산업용 적층 기판 계수 (Zhao & Dai, IEEE 2017)
- 반도체 웨이퍼 계수: 99.99% 정확도
- 필요 조건: **통제된 측면 촬영 + 통제된 조명 + 균일한 두께 (마이크로미터 단위) + 깔끔한 엣지**
- 헬스장 환경에서는 이 조건 **하나도** 충족 불가

---

## 5. 대안 접근법 비교

| 접근법 | 정확도 | 사용자 수고 | 개발 비용 | 추천 |
|--------|--------|-----------|----------|------|
| Aspect Ratio (Mode A) | 30-50% | 낮음 | 완료 | ❌ 포기 |
| Depth (Mode B) | 20-40% | 낮음 | 완료 | ❌ 포기 |
| Sobel Edge (Mode C) | 40-60% | 낮음 | 완료 | ❌ 포기 |
| **YOLO 클래스 + 사용자 장수 입력** | **~100%** | **2-3초** | **낮음** | **✅ 강력 추천** |
| 2단계 촬영 (정면+측면) | 70-80% | 중간 | 중간 | ⚠️ 대안 |
| 다중 스택 YOLO 학습 | 60-75% | 낮음 | 높음 | ⚠️ 최후 수단 |

---

## 6. 결론

> 이것은 CV 문제가 아니라 **물리적 한계**다.

단일 2D 이미지 + 통제 불가 촬영 환경에서는, 두께/지름 비율 7-13%인 동일 원판 장수를 신뢰성 있게 세는 것이 **원리적으로 불가능**하다.

가장 효과적인 접근: YOLO가 잘하는 것(클래스 식별, 96.2% mAP)을 활용하고, 장수는 최소한의 사용자 입력(2-3초)으로 보충.

---

## 참고 문헌

- [Counting Stacked Objects from Multi-View Images (Dumery et al., 2024)](https://arxiv.org/abs/2411.19149)
- [Stacked Substrates Counting (Zhao & Dai, IEEE 2017)](https://ieeexplore.ieee.org/document/8115255/)
- [Tempo Weight Recognition FAQs](https://support.tempo.fit/support/solutions/articles/151000154718)
- [3D ToF Technology for Tempo (Analog Devices)](https://www.analog.com/en/signals/articles/tempo.html)
- [Olympic Weight Plate Dimensions (Two Rep Cave)](https://www.tworepcave.com/1143/olympic-45-lb-plate-diameter-hole-and-outside-dimensions/)
- [Accurate Stacked-Sheet Counting (Optica, 2020)](https://opg.optica.org/josaa/abstract.cfm?URI=josaa-37-7-1206)
- [barbellcv - GitHub](https://github.com/tlancon/barbellcv)
