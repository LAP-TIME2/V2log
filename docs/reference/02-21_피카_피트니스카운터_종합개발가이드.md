# í”¼ì¹´(Fica) í”¼íŠ¸ë‹ˆìŠ¤ ì¹´ìš´í„° â€” ì¢…í•© ê°œë°œ ê°€ì´ë“œ

> **ë¬¸ì„œ ë²„ì „**: v1.1 (2026-02-22 í•˜ë“œì›¨ì–´ ê²°ì • ë°˜ì˜)
> **ì‘ì„±ì¼**: 2026-02-21 (ìµœì¢… ìˆ˜ì •: 2026-02-22)
> **í”„ë¡œì íŠ¸**: Fica IoT í”¼íŠ¸ë‹ˆìŠ¤ ì¹´ìš´í„°
> **ì‘ì„±**: Claude Code (5ê°œ ì „ë¬¸ ì—ì´ì „íŠ¸ ë³‘ë ¬ ë¦¬ì„œì¹˜)

---

## ëª©ì°¨

1. [Ch.1 â€” ìš©ì–´ ì‚¬ì „](#ch1--ìš©ì–´-ì‚¬ì „)
2. [Ch.2 â€” ì„¼ì„œ ì„ íƒì´ ê°œë°œì— ë¯¸ì¹˜ëŠ” ì˜í–¥](#ch2--ì„¼ì„œ-ì„ íƒì´-ê°œë°œì—-ë¯¸ì¹˜ëŠ”-ì˜í–¥)
3. [Ch.3 â€” ì‹œìŠ¤í…œ ë™ì‘ ìŠ¤í™](#ch3--ì‹œìŠ¤í…œ-ë™ì‘-ìŠ¤í™)
4. [Ch.4 â€” ì „ì²´ ê°œë°œ ì›Œí¬í”Œë¡œìš°](#ch4--ì „ì²´-ê°œë°œ-ì›Œí¬í”Œë¡œìš°)
5. [Ch.5 â€” ì˜ì—­ë³„ ìƒì„¸ ê°œë°œ ê°€ì´ë“œ](#ch5--ì˜ì—­ë³„-ìƒì„¸-ê°œë°œ-ê°€ì´ë“œ)
6. [Ch.6 â€” í•„ìš”í•œ ë¦¬ì†ŒìŠ¤ + êµ¬ë§¤ ëª©ë¡](#ch6--í•„ìš”í•œ-ë¦¬ì†ŒìŠ¤--êµ¬ë§¤-ëª©ë¡)
7. [Ch.7 â€” ì„¼ì„œ ì¶”ìƒí™” + ì–‘ì‚° ì „í™˜ ì „ëµ](#ch7--ì„¼ì„œ-ì¶”ìƒí™”--ì–‘ì‚°-ì „í™˜-ì „ëµ)
8. [Ch.8 â€” í™•ì • ì‚¬í•­ + ë‹¤ìŒ ë‹¨ê³„](#ch8--í™•ì •-ì‚¬í•­--ë‹¤ìŒ-ë‹¨ê³„)

---

## Ch.1 â€” ìš©ì–´ ì‚¬ì „

ì´ ì¥ì€ í”¼ì¹´ í”¼íŠ¸ë‹ˆìŠ¤ ì¹´ìš´í„° ê°œë°œì— ë“±ì¥í•˜ëŠ” ëª¨ë“  ê¸°ìˆ  ìš©ì–´ë¥¼ ì •ë¦¬í•œ ì‚¬ì „ì…ë‹ˆë‹¤.

### 1-1. í•˜ë“œì›¨ì–´ ì¥ë¹„ ëª…ì¹­

| ì •ì‹ ëª…ì¹­ | ì•½ì¹­ | ê·¸ëŸ¬ë‹ˆê¹Œ ë­ì•¼? |
|----------|------|--------------|
| IMU ëª¨ì…˜ ì„¼ì„œ (Inertial Measurement Unit) | IMU | ê°€ì†ë„(í”ë“¤ë¦¼)ì™€ íšŒì „ ì†ë„ë¥¼ ë™ì‹œì— ì¸¡ì •í•˜ëŠ” ì´ˆì†Œí˜• ì¹©. "ê¸°êµ¬ê°€ ì–¼ë§ˆë‚˜, ì–´ë–¤ ë°©í–¥ìœ¼ë¡œ ì›€ì§ì˜€ëŠ”ì§€" ìˆ«ìë¡œ ì•Œë ¤ì£¼ëŠ” ë¶€í’ˆ. ìŒ€ í•œ í†¨ë³´ë‹¤ ì‘ìŒ (2.5x3.0mm) |
| BLE ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ | ì»¨íŠ¸ë¡¤ëŸ¬ | ê¸°êµ¬ ì˜†ì— ë¶™ì´ëŠ” ì¹´ë“œ ì ˆë°˜ í¬ê¸°(80x50mm)ì˜ ì‘ì€ ê¸°ê¸°. ë¹¨ê°„ 7-ì„¸ê·¸ë¨¼íŠ¸ ìˆ«ì LED + ì„¸íŠ¸ ì§„í–‰ LED 10ê°œ + +/- ë²„íŠ¼ |
| NFC íƒœê·¸ | NFC ìŠ¤í‹°ì»¤ | ê¸°êµ¬ í”„ë ˆì„ì— ë¶™ì´ëŠ” 500ì›ì§œë¦¬ ìŠ¤í‹°ì»¤. êµí†µì¹´ë“œì²˜ëŸ¼ íƒ­í•˜ë©´ ê¸°êµ¬ ì¸ì‹. ì „ì› ë¶ˆí•„ìš”, ìˆ˜ëª… ì˜êµ¬ |
| MCU (nRF52840) | MCU | ì„¼ì„œì™€ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ "ë‘ë‡Œ" ì¹©. Nordicì‚¬ì˜ nRF52840. ARM Cortex-M4 ë‚´ì¥ |
| 7-ì„¸ê·¸ë¨¼íŠ¸ LED ë””ìŠ¤í”Œë ˆì´ | ìˆ«ì LED | ë¹¨ê°„ìƒ‰ LED ë§‰ëŒ€ 7ê°œë¡œ ìˆ«ì í‘œì‹œ. ë””ì§€í„¸ ì‹œê³„ì™€ ê°™ì€ ì›ë¦¬. OLEDë³´ë‹¤ ì „ë ¥ ì†Œëª¨ ì ìŒ |
| ì„¸íŠ¸ LED í‘œì‹œê¸° | ì„¸íŠ¸ LED | ì¼ë ¬ë¡œ ë°°ì¹˜ëœ 2ìƒ‰ LED(ì´ˆë¡/ë¹¨ê°•) 10ê°œ. ì™„ë£Œ=ì´ˆë¡ ê³ ì •, ì§„í–‰ì¤‘=ì´ˆë¡ ê¹œë¹¡, ì˜ˆì •=ë¹¨ê°• ê³ ì •, ë¯¸ì„¤ì •=êº¼ì§. 74HC595 Ã—3 ì‹œí”„íŠ¸ ë ˆì§€ìŠ¤í„°ë¡œ ì œì–´ |
| ë„¤ì˜¤ë””ë®´ ìì„ ë§ˆìš´íŠ¸ | ìì„ ë§ˆìš´íŠ¸ | ê¸°êµ¬ ì² ì¬ í”„ë ˆì„ì— "ì°°ì¹µ" ë¶™ëŠ” ê°•ë ¥ ìì„. ë¹„íŒŒê´´ ë¶€ì°© |
| LiPo ë°°í„°ë¦¬ (500mAh) | ë°°í„°ë¦¬ | ì¶©ì „ì‹ ë°°í„°ë¦¬. USB-C ì¶©ì „. ICM-45686 ê¸°ì¤€ ì•½ 10~14ì¼ ì‚¬ìš© |
| NXP NT3H2111 | NFC ì»¨íŠ¸ë¡¤ëŸ¬ | ì„¼ì„œ ê¸°ê¸° ì•ˆì˜ NFC í†µì‹  ì¹© |
| NTAG213 | NFC ìŠ¤í‹°ì»¤ íƒœê·¸ | ê¸°êµ¬ í”„ë ˆì„ì— ë¶™ì´ëŠ” NFC ìŠ¤í‹°ì»¤. ë‹¨ê°€ ì•½ 500ì› |
| PCB | ê¸°íŒ | ë¶€í’ˆë“¤ì˜ "ì•„íŒŒíŠ¸ ë‹¨ì§€" |
| SLA ì¶œë ¥ ì¼€ì´ìŠ¤ | 3D í”„ë¦°íŒ… ì¼€ì´ìŠ¤ | ì‹œì œí’ˆ ì™¸ì¥ ì¼€ì´ìŠ¤ |
| IPX4 ë°©ìˆ˜ | ìƒí™œ ë°©ìˆ˜ | ë•€/ë¬¼ ìŠ¤í”„ë ˆì´ ì •ë„ ê²¬ë”¤ |

### 1-2. í†µì‹ /í”„ë¡œí† ì½œ ìš©ì–´

| ìš©ì–´ | ê·¸ëŸ¬ë‹ˆê¹Œ? |
|------|---------|
| BLE 5.0 | ë¸”ë£¨íˆ¬ìŠ¤ ì €ì „ë ¥ ë²„ì „. ì„¼ì„œâ†’ìŠ¤ë§ˆíŠ¸í° ë°ì´í„° ì „ì†¡ |
| NFC | ê°€ê¹Œì´ ëŒ€ë©´ í†µì‹ . êµí†µì¹´ë“œ ì›ë¦¬. ê¸°êµ¬ ì¸ì‹ìš© |
| SPI | ì„¼ì„œâ†”MCU ìœ ì„  ì—°ê²°. USB ì´ˆì†Œí˜• ë²„ì „. ë¹ ë¥´ì§€ë§Œ ì„  ë§ìŒ |
| I2C | SPIì™€ ë¹„ìŠ·í•œ ì¹© ê°„ í†µì‹ . ì„  2ê°œë§Œ. ëŠë¦¬ì§€ë§Œ ê°„ë‹¨ |
| MIPI I3C | I2C ì°¨ì„¸ëŒ€. ë” ë¹ ë¥´ê³  ì €ì „ë ¥ |
| FIFO ë²„í¼ | ì„¼ì„œ ì•ˆ ì„ì‹œ ì €ì¥ì†Œ. í´ìˆ˜ë¡ MCUê°€ ì˜¤ë˜ ì ì˜ ìˆ˜ ìˆìŒ = ë°°í„°ë¦¬ ì ˆì•½. ICM-45686: 8KB, LSM6DSV: 4KB |
| OTA | ë¬´ì„  ì†Œí”„íŠ¸ì›¨ì–´ ì—…ë°ì´íŠ¸ |
| GATT Profile | BLE ë°ì´í„° ì£¼ê³ ë°›ëŠ” ê·œì¹™ì„œ |
| BLE Mesh | ì—¬ëŸ¬ BLE ê¸°ê¸°ê°€ ë°ì´í„° ì¤‘ê³„í•˜ëŠ” ë„¤íŠ¸ì›Œí¬ |
| Zephyr RTOS | nRF52840 ìš´ì˜ì²´ì œ. Android/iOSì˜ MCU ë²„ì „ |
| Wake-on-Motion | ì„¼ì„œê°€ ì ë“¤ì–´ ìˆë‹¤ê°€ ì›€ì§ì„ ê°ì§€ ì‹œ ìë™ ê¸°ìƒ |

### 1-3. ì•Œê³ ë¦¬ì¦˜ ìš©ì–´

| ìš©ì–´ | ê·¸ëŸ¬ë‹ˆê¹Œ? |
|------|---------|
| Peak Detection | ê°€ì†ë„ ê·¸ë˜í”„ì—ì„œ ë´‰ìš°ë¦¬ ì°¾ê¸° = 1íšŒ |
| Velocity Gate | ì§„ì§œ ìš´ë™ì¸ì§€ ê·¸ëƒ¥ ì§„ë™ì¸ì§€ êµ¬ë¶„í•˜ëŠ” ë¬¸ì§€ê¸° |
| One Euro Filter | ì„¼ì„œ ì¡ìŒ ê±¸ëŸ¬ë‚´ëŠ” ì ì‘í˜• í•„í„° |
| ROM | ìš´ë™ ê°€ë™ ë²”ìœ„. ë„ˆë¬´ ì§§ìœ¼ë©´ ì¹´ìš´íŠ¸ ì•ˆ í•¨ |
| Adaptive Threshold | ë¬´ê²Œ/ì†ë„ì— ë”°ë¼ ìë™ ì¡°ì •ë˜ëŠ” ê°ë„ |
| Confirmation System | ì²« 2íšŒ "í™•ì¸ ì¤‘", 3íšŒì§¸ë¶€í„° ì •ì‹ ì¹´ìš´íŒ… |
| Low-Pass Filter | ê³ ì£¼íŒŒ ì¡ìŒ(ë¯¸ì„¸ ì§„ë™) ì œê±° |
| BalancedGyro | TDK ë…ì íŠ¹í—ˆ. ì§„ë™ í™˜ê²½ì—ì„œ ìì´ë¡œ ì•ˆì •ì„± ë³´ì¥ |
| Drift | ì„¼ì„œ ê¸°ì¤€ì ì´ ì‹œê°„ ì§€ë‚¨ì— ë”°ë¼ ë°€ë¦¬ëŠ” í˜„ìƒ |
| FSM | LSM6DSV ë‚´ì¥ íŒë‹¨ ë¡œì§. MCU ì—†ì´ "ìš´ë™ ì¤‘/ì •ì§€" íŒë‹¨ |
| EMA | ìµœê·¼ ê°’ì— ê°€ì¤‘ì¹˜ ì£¼ëŠ” í‰ê· . íŠ€ëŠ” ê°’ ì˜í–¥ ì¤„ì„ |

### 1-4. ë¹„ì¦ˆë‹ˆìŠ¤ ìš©ì–´

| ìš©ì–´ | ê·¸ëŸ¬ë‹ˆê¹Œ? |
|------|---------|
| B2C | ì¼ë°˜ ì‚¬ìš©ìì—ê²Œ ì§ì ‘. ì•± êµ¬ë… ì›” 9,900ì› |
| B2B | í—¬ìŠ¤ì¥ì—ê²Œ. ì„¼ì„œ 50ëŒ€ + ëŒ€ì‹œë³´ë“œ íŒ¨í‚¤ì§€ |
| SaaS | ë§¤ë‹¬ êµ¬ë…ë£Œ. B2B ëŒ€ì‹œë³´ë“œ ì›” 30~50ë§Œì› |
| BOM | ë¶€í’ˆ ëª©ë¡ + ê°€ê²©. ì–‘ì‚° 1,000ëŒ€ ì›ê°€ ì•½ 32,800ì› |
| MVP | í•µì‹¬ ê¸°ëŠ¥ë§Œ ë„£ì€ ì²« ë²ˆì§¸ ì œí’ˆ |
| OEM/ODM | ì™¸ì£¼ ì œì¡° ë°©ì‹ |
| BEP | ì†ìµë¶„ê¸°ì . B2C ê¸°ì¤€ êµ¬ë…ì ì•½ 1,515ëª… |
| Freemium | ê¸°ë³¸ ë¬´ë£Œ + ê³ ê¸‰ ìœ ë£Œ êµ¬ë… |
| Progressive Overload | ì ì§„ì  ê³¼ë¶€í•˜. ë§¤ì£¼ ë¬´ê²Œ/íšŸìˆ˜ ëŠ˜ë¦¬ê¸°. í”¼ì¹´ ì¡´ì¬ ì´ìœ  |
| Zero Interaction | ìš´ë™ ì¤‘ ì¶”ê°€ ì¡°ì‘ ê¸ˆì§€ UX ì›ì¹™ |

---

## Ch.2 â€” ì„¼ì„œ ì„ íƒì´ ê°œë°œì— ë¯¸ì¹˜ëŠ” ì˜í–¥

### 2-1. ê²°ë¡  ë¨¼ì €

ê°œë°œ ì›Œí¬í”Œë¡œìš°ì˜ **95%ëŠ” ì–´ë–¤ ì„¼ì„œë¥¼ ì„ íƒí•˜ë“  ë™ì¼**í•©ë‹ˆë‹¤. **í”„ë¡œí† íƒ€ì…ì€ ICM-45686ìœ¼ë¡œ í™•ì •** (2026-02-22), ì–‘ì‚° ì‹œ LSM6DSV ì¬ê²€í† .

### 2-2. ë‹¬ë¼ì§€ëŠ” 5%

| ì˜í–¥ë°›ëŠ” ë¶€ë¶„ | ICM-45686 | LSM6DSV | ì°¨ì´ |
|-------------|-----------|---------|------|
| Zephyr ë“œë¼ì´ë²„ | ê³µì‹ ì§€ì› | ì§ì ‘ ìˆ˜ì • í•„ìš” | +2ì£¼ |
| ì˜¨ë„ ë³´ì • | ë¶ˆí•„ìš” | í•„ìˆ˜ ê°œë°œ | +1ì£¼ |
| FIFO ìµœì í™” | 8KB (ì—¬ìœ ) | 4KB (íƒ€ì´íŠ¸) | +3~5ì¼ |
| ë°°í„°ë¦¬ ìˆ˜ëª… | 10~14ì¼ | 8~9ì¼ | ìƒìˆ˜ ë³€ê²½ |
| ì¶©ê²© ë‚´ì„± | 20,000g | 10,000g | í•˜ë“œì›¨ì–´ ì°¨ì´ë§Œ |
| ì„¼ì„œ ë‹¨ê°€ | ~$5.86 | ~$1.48~2.49 | LSM ì €ë ´ |
| FSM ë‚´ì¥ | ì—†ìŒ | 8ê°œ ë‚´ì¥ | LSM ì¥ì  |
| **ì¶”ê°€ ê°œë°œ ì‹œê°„** | **ê¸°ì¤€** | **+2~3ì£¼** | |

### 2-3. ë™ì¼í•œ 95%

ë‹¤ìŒ í•­ëª©ë“¤ì€ ì„¼ì„œ ì„ íƒê³¼ ë¬´ê´€í•˜ê²Œ ì™„ì „íˆ ë™ì¼í•©ë‹ˆë‹¤:

- ì•± BLE ì—°ë™
- NFC ê¸°êµ¬ ì¸ì‹
- LED ìˆ«ì í‘œì‹œ
- ë²„íŠ¼/LED ì œì–´
- BLE GATT í”„ë¡œí† ì½œ
- íšŸìˆ˜ ì¹´ìš´íŒ… ì•Œê³ ë¦¬ì¦˜ (ì„¤ê³„/ë¡œì§)
- íœ´ì‹ íƒ€ì´ë¨¸
- ê¸°êµ¬ ì‚¬ìš©ì‹œê°„ ì»¨íŠ¸ë¡¤
- B2B ëŒ€ì‹œë³´ë“œ
- DB êµ¬ì¡°
- OTA ì—…ë°ì´íŠ¸
- ì•± UI ì „ì²´

### 2-4. í•µì‹¬ ë©”ì‹œì§€

**í”„ë¡œí† íƒ€ì…: ICM-45686 í™•ì •.** ì–‘ì‚° ì‹œ LSM6DSV ì „í™˜í•´ë„ 2~3ì£¼ ì°¨ì´ë¿ (ì¶”ìƒí™” ê³„ì¸µ ë•ë¶„).

### 2-5. ì„¼ì„œë³„ ì¶”ì²œ ì‹œë‚˜ë¦¬ì˜¤

| ì‹œë‚˜ë¦¬ì˜¤ | ì¶”ì²œ ì„¼ì„œ | ì´ìœ  |
|---------|----------|------|
| íˆ¬ì ìœ ì¹˜ + í”„ë¦¬ë¯¸ì—„ | ICM-45686 | ì„±ëŠ¥ ëª¨ë“  ë©´ 1ìœ„ |
| ì´ˆê¸° ë¹„ìš© ìµœì†Œí™” | LSM6DSV | ë‹¨ê°€ 1/2~1/3 |
| ë‘ ë§ˆë¦¬ í† ë¼ | LSMâ†’ICM ì—…ê·¸ë ˆì´ë“œ | MVPëŠ” ì €ë ´í•œ ì„¼ì„œë¡œ ê²€ì¦ |

---

## Ch.3 â€” ì‹œìŠ¤í…œ ë™ì‘ ìŠ¤í™

ì‚¬ìš©ì í™•ì • ë²„ì „. Fica í”¼íŠ¸ë‹ˆìŠ¤ ì¹´ìš´í„°ì˜ ì „ì²´ ë™ì‘ íë¦„ì„ ë‹¨ê³„ë³„ë¡œ ì •ì˜í•©ë‹ˆë‹¤.

### 3-0. ì´ˆê¸° ìƒíƒœ

```
â”â”â” STEP 0: ì´ˆê¸° ìƒíƒœ â”â”â”
- ì„¼ì„œ: ëŒ€ê¸° ëª¨ë“œ (ì €ì „ë ¥, ì›€ì§ì„ ê°ì§€ ì‹œ ê¹¨ì–´ë‚¨)
- ì»¨íŠ¸ë¡¤ëŸ¬: ìˆ«ì LED êº¼ì§, ì„¸íŠ¸ LED 10ê°œ ëª¨ë‘ êº¼ì§
- NFC íƒœê·¸: ê¸°êµ¬ í”„ë ˆì„ì— ë¶€ì°© (í•­ìƒ ì½ê¸° ê°€ëŠ¥)
```

**ì „ë ¥ í”„ë¡œíŒŒì¼**: í•©ì‚° ~23ÂµA. í•˜ë£¨ 6ì‹œê°„ ëŒ€ê¸° ì‹œ 0.03mAhë§Œ ì†Œëª¨.

**ì—£ì§€ ì¼€ì´ìŠ¤**:
- í—¬ìŠ¤ì¥ ì§„ë™ìœ¼ë¡œ ì˜ëª» ê¹¨ì–´ë‚¨ â†’ WOM ì„ê³„ê°’ 0.5g ì´ìƒìœ¼ë¡œ ì„¤ì •
- ë°°í„°ë¦¬ ë°©ì „ â†’ 20% ì´í•˜ ê²½ê³ 
- ì•¼ê°„ ìë™ ìŠ¬ë¦½

### 3-1. NFC íƒ­ â†’ ê¸°êµ¬ ì¸ì‹ + ì‚¬ìš©ì ì‹ë³„

```
â”â”â” STEP 1 â”â”â”
- ì‚¬ìš©ìê°€ ìŠ¤ë§ˆíŠ¸í°ì„ NFC íƒœê·¸ì— ê°€ì ¸ë‹¤ ëŒ
- ì•±ì´ ê¸°êµ¬ ID ì½ìŒ â†’ "45ë„ ë ˆê·¸í”„ë ˆìŠ¤" ì¸ì‹
- ì´ì „ ì‚¬ìš© ê¸°ë¡ íŒì—…: "ì§€ë‚œë²ˆ: 100kg Ã— 10íšŒ Ã— 4ì„¸íŠ¸"
- ì•± â†’ BLE â†’ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ë¬´ê²Œ ì „ì†¡
- ìˆ«ì LED: "100" í‘œì‹œ
- +/- ë²„íŠ¼ìœ¼ë¡œ ë¬´ê²Œ ì¡°ì • ê°€ëŠ¥
```

**ë°ì´í„° íë¦„**: NFCíƒœê·¸ â†’ ìŠ¤ë§ˆíŠ¸í°(ê¸°êµ¬ID) â†’ Supabase(ì´ì „ê¸°ë¡) â†’ BLE(ë¬´ê²Œ=100) â†’ ì»¨íŠ¸ë¡¤ëŸ¬(LED:"100")

**ì—£ì§€ ì¼€ì´ìŠ¤**:
- ì²˜ìŒ ì‚¬ìš© ê¸°êµ¬ â†’ ê¸°ë³¸ ì¶”ì²œ ë¬´ê²Œ í‘œì‹œ
- NFC ì‹¤íŒ¨ â†’ ìˆ˜ë™ ì„ íƒ UI í´ë°±
- ì¸í„°ë„· ì—†ìŒ â†’ ë¡œì»¬ ìºì‹œì—ì„œ ì´ì „ ê¸°ë¡ ë¡œë“œ
- BLE ë¯¸ì—°ê²° â†’ ìë™ ìŠ¤ìº”+í˜ì–´ë§

### 3-2. ì´ ì„¸íŠ¸ ìˆ˜ ì„¤ì •

```
â”â”â” STEP 2 â”â”â”
- ì„¸íŠ¸ ìˆ˜ ì…ë ¥ (ì˜ˆ: 4ì„¸íŠ¸) â€” ì•±ì—ì„œ ì„¤ì • â†’ BLEë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ì— ì „ì†¡
- LED 10ê°œ ì¤‘ 4ê°œ ë¹¨ê°•(ì˜ˆì •) ì ë“±, ë‚˜ë¨¸ì§€ 6ê°œ êº¼ì§
- ì´ ì‚¬ìš©ì‹œê°„ ìë™ ê³„ì‚°: (ì„¸íŠ¸ìˆ˜ Ã— 30ì´ˆ) + (ì„¸íŠ¸ìˆ˜ Ã— ì‰¬ëŠ”ì‹œê°„) + ì—¬ìœ ì‹œê°„
```

### 3-3. ìš´ë™ ì‹œì‘ â†’ ìë™ ì¹´ìš´íŒ…

```
â”â”â” STEP 3 â”â”â”
â˜… ì•ˆì „ë°” í•´ì œ ë™ì‘ì€ ì¹´ìš´íŠ¸ ì•ˆ ë¨
â˜… Confirmation System: ì²« 2íšŒ "í™•ì¸ ì¤‘", 3íšŒì§¸ë¶€í„° ì •ì‹ ì¹´ìš´íŒ… + ì†Œê¸‰
â˜… ì»¨íŠ¸ë¡¤ëŸ¬ ìˆ«ì LEDì— ì‹¤ì‹œê°„ íšŸìˆ˜ í‘œì‹œ
â˜… í˜„ì¬ ì„¸íŠ¸ LED: ì´ˆë¡ ê¹œë¹¡ê¹œë¹¡ (ì˜ˆì • ì„¸íŠ¸ëŠ” ë¹¨ê°• ê³ ì •)
```

**ì•Œê³ ë¦¬ì¦˜ íŒŒì´í”„ë¼ì¸**:

```
IMU(100Hz) â†’ FIFO â†’ Low-Pass Filter â†’ 45Â° íˆ¬ì˜ ë³´ì •
â†’ Peak Detection â†’ Velocity Gate â†’ Confirmation System â†’ BLE ì „ì†¡
```

**ì—£ì§€ ì¼€ì´ìŠ¤**:
- **í•˜í”„ ë ™**: ROM 50% ë¯¸ë§Œì€ ì¹´ìš´íŠ¸ ì•ˆ í•¨
- **ì ì§„ì  í”¼ë¡œ**: Adaptive Thresholdê°€ ìë™ìœ¼ë¡œ ê°ë„ ë‚®ì¶¤
- **íŒŒíŠ¸ë„ˆ ë³´ì¡°**: íŒ¨í„´ ìœ ì§€ë˜ë¯€ë¡œ ì •ìƒ ì‘ë™
- **ìš´ë™ ì¤‘ ì§§ì€ ë©ˆì¶¤**: ì„¸íŠ¸ ì¢…ë£Œë¡œ íŒë‹¨í•˜ì§€ ì•ŠìŒ
- **ì›íŒ êµì²´ ì§„ë™**: ì£¼ê¸°ì„± ì—†ì–´ í•„í„°ë¨
- **ì˜† ê¸°êµ¬ ì¶©ê²©**: 5ms ì´ë‚´ ì¶©ê²©ì´ë¼ Low-Passì—ì„œ ì œê±°

### 3-4. ì„¸íŠ¸ ì™„ë£Œ â†’ ìë™ íœ´ì‹ íƒ€ì´ë¨¸

```
â”â”â” STEP 4 â”â”â”
- 2~3ì´ˆ ë¬´ì›€ì§ì„ + ì •ì§€ íŒ¨í„´ â†’ "ì„¸íŠ¸ ì™„ë£Œ!"
- ì™„ë£Œ íšŸìˆ˜ ê¹œë¹¡ì„ (2~3ì´ˆ)
- ì™„ë£Œ ì„¸íŠ¸ LED: ì´ˆë¡ë¶ˆ ê³ ì •
- ì‰¬ëŠ”ì‹œê°„ ì¹´ìš´íŠ¸ë‹¤ìš´: 01:30 â†’ 01:29 â†’ ...
- 10ì´ˆ ì „: ì§„ë™ ì•Œë¦¼
- ë‹¤ìŒ ì„¸íŠ¸ LED: ê¹œë¹¡ê¹œë¹¡
```

### 3-5. ë‹¤ìŒ ì„¸íŠ¸ â†’ ë°˜ë³µ

```
â”â”â” STEP 5 â”â”â”
- STEP 3â†’4 ë°˜ë³µ
- ë¬´ê²Œ ë³€ê²½: +/- ë²„íŠ¼
- ì„¸íŠ¸ë§ˆë‹¤ LED í•˜ë‚˜ì”© ì´ˆë¡ë¶ˆ
```

**ì—£ì§€ ì¼€ì´ìŠ¤**:
- **ë“œë¡­ì„¸íŠ¸**: ë¬´ê²Œ ë³€ê²½ â†’ ìƒˆ ì„¸íŠ¸ ìë™ ì¸ì‹
- **ìŠˆí¼ì„¸íŠ¸**: ê° ì„¼ì„œ ë…ë¦½ ì¹´ìš´íŒ…
- **ì˜ˆìƒë³´ë‹¤ ë” í•˜ê³  ì‹¶ìŒ**: LED ìë™ í™•ì¥

### 3-6. ëª¨ë“  ì„¸íŠ¸ ì™„ë£Œ â†’ ê¸°ë¡ ì €ì¥

```
â”â”â” STEP 6 â”â”â”
- LED ì „ë¶€ ì´ˆë¡ë¶ˆ
- ìˆ«ì LED: ì´ ì„¸íŠ¸ ìˆ˜ "4" ê¹œë¹¡ì„
- ì•±ì— ì „ì²´ ê¸°ë¡ ì „ì†¡ â†’ AI ë‹¤ìŒ ì¶”ì²œ â†’ ë§ˆì¼ë¦¬ì§€ ì ë¦½
- ê¸°êµ¬ ì‚¬ìš©ì‹œê°„ ì¢…ë£Œ â†’ ë‹¤ìŒ ì‚¬ìš©ì ì´ìš© ê°€ëŠ¥
- 10ì´ˆ í›„ STEP 0 ë³µê·€
```

### 3-7. ì™¸ë¶€ í‘œì‹œ

```
LED ìƒíƒœë³„ ì˜ë¯¸ (2ìƒ‰: ì´ˆë¡/ë¹¨ê°•):
âš«âš«âš«âš«âš«âš«âš«âš«âš«âš«   "ê¸°êµ¬ ë¹„ì–´ìˆìŒ" (ë¯¸ì„¤ì •=êº¼ì§)
ğŸŸ¢ğŸŸ¢âœ¨ğŸ”´âš«âš«âš«âš«âš«âš«   "4ì„¸íŠ¸ ì¤‘ 3ì„¸íŠ¸ì§¸" (ì™„ë£Œ=ì´ˆë¡, ì§„í–‰ì¤‘=ì´ˆë¡ê¹œë¹¡, ì˜ˆì •=ë¹¨ê°•)
ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¢âš«âš«âš«âš«âš«âš«   "ìš´ë™ ì™„ë£Œ" (ì „ë¶€ ì´ˆë¡)
```

ê·¸ëŸ¬ë‹ˆê¹Œ ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ê¸°êµ¬ ì•ì— ì™”ì„ ë•Œ, LEDë§Œ ë³´ê³  "ì§€ê¸ˆ ì‚¬ìš© ì¤‘ì¸ì§€", "ëª‡ ì„¸íŠ¸ ë‚¨ì•˜ëŠ”ì§€" ë°”ë¡œ ì•Œ ìˆ˜ ìˆëŠ” ê²ë‹ˆë‹¤.

### 3-8. ì „ì²´ íë¦„ ìš”ì•½

```
STEP 0(ëŒ€ê¸°) â†’ STEP 1(NFC) â†’ STEP 2(ì„¸íŠ¸ì„¤ì •)
  â†’ [STEP 3(ì¹´ìš´íŒ…) â†’ STEP 4(íœ´ì‹) â†’ STEP 5(ë°˜ë³µ)] Ã— N
  â†’ STEP 6(ì™„ë£Œ) â†’ STEP 0
```

---

## Ch.4 â€” ì „ì²´ ê°œë°œ ì›Œí¬í”Œë¡œìš°

### 4.1 5ê°œ ê°œë°œ ì˜ì—­

| ì˜ì—­ | ë‹´ë‹¹ | í•µì‹¬ ì‚°ì¶œë¬¼ |
|------|------|-----------|
| â‘  ì„ë² ë””ë“œ íŒì›¨ì–´ | nRF52840 + Zephyr OS | ì„¼ì„œ ë“œë¼ì´ë²„, íšŸìˆ˜ ì•Œê³ ë¦¬ì¦˜, BLE ì„œë¹„ìŠ¤ |
| â‘¡ í•˜ë“œì›¨ì–´ ì„¤ê³„ | PCB + 3D ì¼€ì´ìŠ¤ | íšŒë¡œë„, PCB, ì¼€ì´ìŠ¤ CAD |
| â‘¢ BLE í”„ë¡œí† ì½œ | í†µì‹  ê·œì•½ | GATT í”„ë¡œíŒŒì¼, ë°ì´í„° êµ¬ì¡° |
| â‘£ ì•± ì—°ë™ (Flutter) | V2log í™•ì¥ | BLE ì—°ê²°, ë°ì´í„° ìˆ˜ì‹ , UI |
| â‘¤ ë°±ì—”ë“œ + B2B | Supabase + ëŒ€ì‹œë³´ë“œ | DB, API, ê´€ë¦¬ì ì›¹ |

### 4.2 ì˜ì—­ë³„ ìƒì„¸

#### â‘  ì„ë² ë””ë“œ íŒì›¨ì–´ (6~8ì£¼)

- IMU ë“œë¼ì´ë²„ + ì¹´ìš´íŒ… ì•Œê³ ë¦¬ì¦˜ + BLE ì„œë¹„ìŠ¤ + ì£¼ë³€ì¥ì¹˜(LED, ë²„íŠ¼, ì§„ë™, NFC)
- DK(ê°œë°œ í‚¤íŠ¸)ì—ì„œ ë¨¼ì € ê°œë°œ, PCB ì™„ì„± ì•ˆ ê¸°ë‹¤ë ¤ë„ ë¨

ê·¸ëŸ¬ë‹ˆê¹Œ ì‹¤ì œ ê¸°íŒì´ ì•„ì§ ì—†ì–´ë„, Nordicì´ ë§Œë“  "ì—°ìŠµìš© ë³´ë“œ"ì—ì„œ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ë¨¼ì € ë‹¤ ë§Œë“¤ ìˆ˜ ìˆë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.

#### â‘¡ í•˜ë“œì›¨ì–´ ì„¤ê³„ (6~8ì£¼)

- íšŒë¡œë„ â†’ PCB â†’ ë°œì£¼ â†’ ì¼€ì´ìŠ¤ 3D í”„ë¦°íŒ… â†’ ì¡°ë¦½

#### â‘¢ BLE í”„ë¡œí† ì½œ (1~2ì£¼)

- ê°€ì¥ ë¨¼ì € í™•ì • í•„ìš”. â‘ ê³¼ â‘£ê°€ ì´ ê·œì•½ì— ë§ì¶° ì½”ë“œ ì‘ì„±

ê·¸ëŸ¬ë‹ˆê¹Œ "ì„¼ì„œì™€ ì•±ì´ ì–´ë–¤ í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ì§€" ì•½ì†ì„ ë¨¼ì € ì •í•´ì•¼, ì–‘ìª½ì´ ë™ì‹œì— ê°œë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### â‘£ ì•± ì—°ë™ (3~4ì£¼)

- flutter_blue_plus ê¸°ë°˜ BLE ì—°ë™ + NFC íƒœê·¸ ì½ê¸°

#### â‘¤ ë°±ì—”ë“œ + B2B (3~4ì£¼)

- Supabase ìŠ¤í‚¤ë§ˆ í™•ì¥ + B2B ëŒ€ì‹œë³´ë“œ MVP

### 4.3 ì˜ì¡´ ê´€ê³„

```
              â‘¢ BLE í”„ë¡œí† ì½œ (1~2ì£¼)
             â•±        |         â•²
            â–¼          â–¼           â–¼
â‘¡ í•˜ë“œì›¨ì–´ â†’ â‘  íŒì›¨ì–´    â‘£ ì•± ì—°ë™ â†’ â‘¤ ë°±ì—”ë“œ
                â•²                     â•±
                 [í†µí•© í…ŒìŠ¤íŠ¸ + í—¬ìŠ¤ì¥ ê²€ì¦]
```

â‘¢ì´ ëª¨ë“  ê²ƒì˜ ì¶œë°œì . BLE í”„ë¡œí† ì½œì´ í™•ì •ë˜ì–´ì•¼ íŒì›¨ì–´ì™€ ì•±ì´ ë™ì‹œì— ê°œë°œ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### 4.4 Phaseë³„ ê°œë°œ ìˆœì„œ

| Phase | ê¸°ê°„ | í•µì‹¬ ì‘ì—… |
|-------|------|----------|
| **Phase A** | 2ì£¼ | BLE í”„ë¡œí† ì½œ í™•ì •, DB ìŠ¤í‚¤ë§ˆ, íšŒë¡œë„ ì´ˆì•ˆ, ë¶€í’ˆ ë°œì£¼ |
| **Phase B** | 4ì£¼ | IMU ë“œë¼ì´ë²„ + ì¹´ìš´íŒ…, ì•± BLE ì—°ë™, LED/ë²„íŠ¼/ì§„ë™, ë¸Œë ˆë“œë³´ë“œ í”„ë¡œí† íƒ€ì… |
| **Phase C** | 3ì£¼ | íŒì›¨ì–´â†”ì•± í†µí•©, PCB ìˆ˜ë ¹, ì¼€ì´ìŠ¤ ì¡°ë¦½, í—¬ìŠ¤ì¥ ì‹¤ê¸°ê¸° í…ŒìŠ¤íŠ¸ |
| **Phase D** | 3ì£¼ | ë°°í„°ë¦¬ ìµœì í™”, B2B ëŒ€ì‹œë³´ë“œ, ì‚¬ìš©ì‹œê°„ ì»¨íŠ¸ë¡¤, ì–‘ì‚° ì¤€ë¹„ |

**ì´ 12ì£¼ (ì•½ 3ê°œì›”)**

---

## Ch.5 â€” ì˜ì—­ë³„ ìƒì„¸ ê°œë°œ ê°€ì´ë“œ

### 5.1 ì„ë² ë””ë“œ íŒì›¨ì–´ (nRF52840 + Zephyr)

ì´ ì˜ì—­ì€ Fica ì¹´ìš´í„°ì˜ "ë‘ë‡Œ"ì¸ nRF52840 MCUì—ì„œ ëŒì•„ê°€ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ì…ë‹ˆë‹¤. Zephyr RTOS ê¸°ë°˜ìœ¼ë¡œ IMU ë°ì´í„° ì²˜ë¦¬, íšŸìˆ˜ ì¹´ìš´íŒ…, BLE í†µì‹ , ë””ìŠ¤í”Œë ˆì´/LED/ë²„íŠ¼/ì§„ë™ ì œì–´ë¥¼ ëª¨ë‘ ë‹´ë‹¹í•©ë‹ˆë‹¤.

ê·¸ëŸ¬ë‹ˆê¹Œ ì„¼ì„œê°€ ìˆ˜ì§‘í•œ ë°ì´í„°ë¥¼ ë°›ì•„ì„œ "ì´ê²Œ 1íšŒë‹¤"ë¥¼ íŒë‹¨í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ LEDì— í‘œì‹œí•˜ê³ , ìŠ¤ë§ˆíŠ¸í°ì— ì „ì†¡í•˜ëŠ” ëª¨ë“  ì¼ì„ í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ì…ë‹ˆë‹¤.

#### 5.1.1 Zephyr RTOS í™˜ê²½ êµ¬ì¶•

nRF Connect SDK (v2.7+)ë¥¼ ì„¤ì¹˜í•˜ë©´ Zephyr RTOS, ARM ì»´íŒŒì¼ëŸ¬, Nordic ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•œêº¼ë²ˆì— ì„¤ì¹˜ë©ë‹ˆë‹¤. VS Code + nRF Connect í™•ì¥ìœ¼ë¡œ ë¹Œë“œ/í”Œë˜ì‹œ/ë””ë²„ê·¸ë¥¼ í†µí•© ê´€ë¦¬í•©ë‹ˆë‹¤.

**ì„¤ì¹˜ ìˆœì„œ**:
1. nRF Connect for Desktop ì„¤ì¹˜
2. Toolchain Managerì—ì„œ nRF Connect SDK v2.7+ ì„¤ì¹˜
3. VS Code + nRF Connect Extension Pack ì„¤ì¹˜
4. `west init` â†’ `west update` â†’ ë¹Œë“œ í™•ì¸

ê·¸ëŸ¬ë‹ˆê¹Œ Android Studioê°€ ì•ˆë“œë¡œì´ë“œ ì•± ê°œë°œ í™˜ê²½ì¸ ê²ƒì²˜ëŸ¼, nRF Connect SDKê°€ nRF52840 íŒì›¨ì–´ ê°œë°œ í™˜ê²½ì…ë‹ˆë‹¤. ì„¤ì¹˜í•˜ë©´ ì»´íŒŒì¼ëŸ¬, OS, ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë‹¤ ë”¸ë ¤ì˜µë‹ˆë‹¤.

#### 5.1.2 IMU ë“œë¼ì´ë²„

ì„¼ì„œì—ì„œ ê°€ì†ë„/ê°ì†ë„ ë°ì´í„°ë¥¼ SPIë¡œ ì½ì–´ FIFO ë²„í¼ì—ì„œ ë°°ì¹˜ ì²˜ë¦¬í•©ë‹ˆë‹¤.

**ì¶”ìƒí™” ê³„ì¸µ** (`sensor_interface.h`):

```c
typedef struct {
    float accel_x, accel_y, accel_z;  // ê°€ì†ë„ (g)
    float gyro_x, gyro_y, gyro_z;    // ê°ì†ë„ (deg/s)
    uint32_t timestamp_ms;            // ì‹œê°„ (ë°€ë¦¬ì´ˆ)
} imu_sample_t;

typedef struct {
    const char *name;                          // "ICM-45686" ë˜ëŠ” "LSM6DSV"
    int (*init)(void);                         // ì„¼ì„œ ì´ˆê¸°í™”
    int (*read_fifo)(imu_sample_t *buf, int max_samples);  // FIFOì—ì„œ ë°ì´í„° ì½ê¸°
    int (*sleep)(void);                        // ì €ì „ë ¥ ëª¨ë“œ ì§„ì…
    int (*wake)(void);                         // ê¹¨ì–´ë‚¨
    float (*get_temperature)(void);            // ì˜¨ë„ ì½ê¸° (ë³´ì •ìš©)
    int (*configure_wom)(float threshold_g);   // Wake-on-Motion ì„¤ì •
} imu_driver_t;

// ì„¼ì„œë³„ ë“œë¼ì´ë²„ ì¸ìŠ¤í„´ìŠ¤
extern const imu_driver_t icm45686_driver;
extern const imu_driver_t lsm6dsv_driver;
```

ê·¸ëŸ¬ë‹ˆê¹Œ ì´ ì¶”ìƒí™” ë•ë¶„ì—, ì„¼ì„œë¥¼ êµì²´í•´ë„ ë“œë¼ì´ë²„ íŒŒì¼ 1ê°œë§Œ ë°”ê¾¸ë©´ ë‚˜ë¨¸ì§€ ì½”ë“œëŠ” í•œ ê¸€ìë„ ì•ˆ ë°”ê¿”ë„ ë©ë‹ˆë‹¤. ë§ˆì¹˜ USB í¬íŠ¸ì— ì•„ë¬´ USB ë©”ëª¨ë¦¬ë‚˜ ê½‚ì„ ìˆ˜ ìˆëŠ” ê²ƒê³¼ ê°™ì€ ì›ë¦¬ì…ë‹ˆë‹¤.

**FIFO ì½ê¸° ì „ëµ**:

```c
// ICM-45686: 8KB FIFO â†’ ìµœëŒ€ 256ìƒ˜í”Œ ë°°ì¹˜
// LSM6DSV: 4KB FIFO â†’ ìµœëŒ€ 128ìƒ˜í”Œ ë°°ì¹˜
#define FIFO_BATCH_SIZE  CONFIG_IMU_FIFO_BATCH_SIZE

static imu_sample_t fifo_buffer[FIFO_BATCH_SIZE];

void imu_fifo_work_handler(struct k_work *work) {
    int count = driver->read_fifo(fifo_buffer, FIFO_BATCH_SIZE);
    for (int i = 0; i < count; i++) {
        rep_counter_process_sample(&fifo_buffer[i]);
    }
}
```

#### 5.1.3 íšŸìˆ˜ ì¹´ìš´íŒ… ì•Œê³ ë¦¬ì¦˜

V2log CV Phase 1ì—ì„œ ê²€ì¦í•œ ì•Œê³ ë¦¬ì¦˜ì„ IMU ë°ì´í„°ìš©ìœ¼ë¡œ ì´ì‹í•©ë‹ˆë‹¤. ì¹´ë©”ë¼ ê¸°ë°˜ ê´€ì ˆ ê°ë„ ëŒ€ì‹  ê°€ì†ë„/ê°ì†ë„ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, í•µì‹¬ ë¡œì§ì€ ë™ì¼í•©ë‹ˆë‹¤.

**íŒŒì´í”„ë¼ì¸**:

```
IMU ì›ì‹œ ë°ì´í„° (100Hz)
    â†“
[1] Low-Pass Filter (ê³ ì£¼íŒŒ ì¡ìŒ ì œê±°, ì»·ì˜¤í”„ 5Hz)
    â†“
[2] ìš´ë™ ì¶• íˆ¬ì˜ (45Â° ë ˆê·¸í”„ë ˆìŠ¤ â†’ 45Â° ë³´ì •)
    â†“
[3] One Euro Filter (ì ì‘í˜• ì¡ìŒ ì œê±°)
    â†“
[4] Peak Detection (ë´‰ìš°ë¦¬ ì°¾ê¸° = 1íšŒ)
    â†“
[5] Velocity Gate (ì†ë„ ë¬¸ì§€ê¸° â€” ë„ˆë¬´ ëŠë¦¬ë©´ ê±°ë¶€)
    â†“
[6] ROM Check (ê°€ë™ë²”ìœ„ 50% ë¯¸ë§Œì´ë©´ ê±°ë¶€)
    â†“
[7] Confirmation System (ì²« 2íšŒ "í™•ì¸ ì¤‘", 3íšŒì§¸ í™•ì •+ì†Œê¸‰)
    â†“
ê²°ê³¼: rep_count++, BLE ì „ì†¡
```

**í•µì‹¬ êµ¬ì¡°ì²´**:

```c
typedef struct {
    // í•„í„° ìƒíƒœ
    one_euro_filter_t filter;
    float prev_filtered;
    float prev_velocity;

    // í”¼í¬ ê²€ì¶œ
    float peak_threshold;
    float valley_threshold;
    bool looking_for_peak;

    // í™•ì¸ ì‹œìŠ¤í…œ
    int pending_count;      // í™•ì¸ ëŒ€ê¸° ì¤‘ íšŸìˆ˜
    int confirmed_count;    // í™•ì • íšŸìˆ˜
    bool confirmed;         // 3íšŒ ì´ìƒ â†’ true

    // Adaptive Threshold
    float recent_amplitudes[10];
    int amplitude_index;

    // ì„¸íŠ¸ ìƒíƒœ
    uint32_t last_rep_time;
    bool set_active;
} rep_counter_state_t;
```

**Adaptive Threshold**: ë¬´ê²Œê°€ ë¬´ê±°ìš°ë©´ ì›€ì§ì„ì´ ëŠë¦¬ê³ , ê°€ë²¼ìš°ë©´ ë¹ ë¦…ë‹ˆë‹¤. Adaptive ThresholdëŠ” ìµœê·¼ 10íšŒì˜ ì§„í­ í‰ê· ì„ ê¸°ë°˜ìœ¼ë¡œ ê°ë„ë¥¼ ìë™ ì¡°ì •í•©ë‹ˆë‹¤.

ê·¸ëŸ¬ë‹ˆê¹Œ 100kg ìŠ¤ì¿¼íŠ¸ì™€ 20kg ìŠ¤ì¿¼íŠ¸ëŠ” ì„¼ì„œì— ì°íˆëŠ” íŒŒí˜•ì´ ë‹¤ë¥¸ë°, ì•Œê³ ë¦¬ì¦˜ì´ ì•Œì•„ì„œ ê°ë„ë¥¼ ë§ì¶°ì¤€ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.

#### 5.1.4 BLE ì„œë¹„ìŠ¤

Zephyr BLE ìŠ¤íƒì„ ì‚¬ìš©í•´ GATT ì„œë¹„ìŠ¤ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤. Ch.5-â‘¢ì—ì„œ ì •ì˜í•œ GATT í”„ë¡œíŒŒì¼ì„ íŒì›¨ì–´ì—ì„œ êµ¬í˜„í•©ë‹ˆë‹¤.

```c
// BLE ì„œë¹„ìŠ¤ UUID
#define FICA_SERVICE_UUID BT_UUID_128_ENCODE(0xFCA00000, ...)

// Notifyë¡œ íšŸìˆ˜ ì—…ë°ì´íŠ¸ ì „ì†¡
void fica_ble_notify_rep_count(uint16_t count) {
    bt_gatt_notify(NULL, &fica_svc.attrs[REP_COUNT_ATTR],
                   &count, sizeof(count));
}

// Writeë¡œ ë¬´ê²Œ ìˆ˜ì‹ 
static ssize_t write_weight(struct bt_conn *conn,
                            const struct bt_gatt_attr *attr,
                            const void *buf, uint16_t len, ...) {
    uint16_t weight_x10 = sys_get_le16(buf);  // 0.1kg ë‹¨ìœ„
    current_weight = weight_x10;
    display_update_weight(weight_x10);
    return len;
}
```

#### 5.1.5 7-ì„¸ê·¸ë¨¼íŠ¸ LED ë””ìŠ¤í”Œë ˆì´ (TM1637)

TM1637 GPIO bit-bang ë“œë¼ì´ë²„ë¡œ 3ìë¦¬ ìˆ«ìë¥¼ í‘œì‹œí•©ë‹ˆë‹¤. íšŸìˆ˜, ë¬´ê²Œ, íœ´ì‹ íƒ€ì´ë¨¸ ê°’ì„ ë²ˆê°ˆì•„ í‘œì‹œí•©ë‹ˆë‹¤.

> **ê²°ì • (2026-02-22)**: MAX7219(SPI) â†’ **TM1637(GPIO bit-bang 2í•€)** ë³€ê²½.
> - **í•€**: P0.11 (CLK), P0.12 (DIO) â€” IMU SPI0 ë²„ìŠ¤ì™€ ì™„ì „ ë…ë¦½ (ë²„ìŠ¤ ì¶©ëŒ ì—†ìŒ)
> - **ë¹„ìš©**: ~$0.50 (MAX7219 ~$1.50 ëŒ€ë¹„ 1/3)
> - **ì°¸ê³ **: Zephyr ê³µì‹ TM1637 ë“œë¼ì´ë²„ ì—†ìŒ â†’ ì»¤ìŠ¤í…€ bit-bang êµ¬í˜„ í•„ìš” (~50ì¤„)

```c
// TM1637 GPIO bit-bang í†µì‹  (CLK + DIO 2í•€)
#define TM1637_CLK_PIN  DT_GPIO_PIN(DT_NODELABEL(tm1637), clk_gpios)  // P0.11
#define TM1637_DIO_PIN  DT_GPIO_PIN(DT_NODELABEL(tm1637), dio_gpios)  // P0.12

// bit-bang: 1ë°”ì´íŠ¸ ì „ì†¡ (LSB first)
static void tm1637_write_byte(uint8_t data) {
    for (int i = 0; i < 8; i++) {
        gpio_pin_set(gpio_dev, TM1637_CLK_PIN, 0);
        gpio_pin_set(gpio_dev, TM1637_DIO_PIN, (data >> i) & 1);
        k_busy_wait(2);  // 2Âµs
        gpio_pin_set(gpio_dev, TM1637_CLK_PIN, 1);
        k_busy_wait(2);
    }
    // ACK ì½ê¸°
    gpio_pin_set(gpio_dev, TM1637_CLK_PIN, 0);
    gpio_pin_configure(gpio_dev, TM1637_DIO_PIN, GPIO_INPUT);
    k_busy_wait(2);
    gpio_pin_set(gpio_dev, TM1637_CLK_PIN, 1);
    k_busy_wait(2);
    gpio_pin_configure(gpio_dev, TM1637_DIO_PIN, GPIO_OUTPUT);
}

// 3ìë¦¬ ìˆ«ì í‘œì‹œ (ì˜ˆ: 100 = "1", "0", "0")
static const uint8_t digit_map[] = {
    0x3F, 0x06, 0x5B, 0x4F, 0x66,  // 0~4
    0x6D, 0x7D, 0x07, 0x7F, 0x6F   // 5~9
};

void display_number(uint16_t num) {
    tm1637_start();
    tm1637_write_byte(0x40);  // ìë™ ì£¼ì†Œ ì¦ê°€ ëª¨ë“œ
    tm1637_stop();
    tm1637_start();
    tm1637_write_byte(0xC0);  // ì£¼ì†Œ ì‹œì‘
    tm1637_write_byte(digit_map[(num / 100) % 10]);  // 100ì˜ ìë¦¬
    tm1637_write_byte(digit_map[(num / 10) % 10]);   // 10ì˜ ìë¦¬
    tm1637_write_byte(digit_map[num % 10]);           // 1ì˜ ìë¦¬
    tm1637_stop();
    tm1637_start();
    tm1637_write_byte(0x8F);  // ë””ìŠ¤í”Œë ˆì´ ON + ìµœëŒ€ ë°ê¸°
    tm1637_stop();
}

// ê¹œë¹¡ì„ íš¨ê³¼ (ì„¸íŠ¸ ì™„ë£Œ ì‹œ)
void display_blink(uint16_t num, int times) {
    for (int i = 0; i < times; i++) {
        display_number(num);
        k_msleep(300);
        display_off();
        k_msleep(200);
    }
}
```

ê·¸ëŸ¬ë‹ˆê¹Œ MAX7219ì€ SPI í†µì‹ (ì„  3~4ê°œ)ì´ í•„ìš”í–ˆëŠ”ë°, TM1637ì€ GPIO 2ê°œ(CLK, DIO)ë¡œ ì§ì ‘ ë°ì´í„°ë¥¼ ë³´ëƒ…ë‹ˆë‹¤. ë§ˆì¹˜ ëª¨ìŠ¤ ë¶€í˜¸ì²˜ëŸ¼ "ê¹œë¹¡ê¹œë¹¡" ì‹ í˜¸ë¥¼ ë³´ë‚´ì„œ ìˆ«ìë¥¼ í‘œì‹œí•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. IMUê°€ SPI0ì„ ì“°ê³  ìˆì–´ë„ ì¶©ëŒì´ ì—†ìŠµë‹ˆë‹¤.

#### 5.1.6 ì„¸íŠ¸ LED ì œì–´ (74HC595 Ã—3 + 2ìƒ‰ LED)

> **ê²°ì • (2026-02-22)**: WS2812B â†’ **74HC595 Ã—3 ë°ì´ì§€ì²´ì¸ + 2ìƒ‰ LED(ì´ˆë¡/ë¹¨ê°•) 10ê°œ** ë³€ê²½.
> - **ì¶œë ¥**: 20ë¹„íŠ¸ í•„ìš” (ì´ˆë¡ 10 + ë¹¨ê°• 10) â†’ 74HC595 3ê°œ (24ë¹„íŠ¸, 4ë¹„íŠ¸ ì—¬ìœ )
> - **GPIO**: P0.14 (DATA), P0.15 (CLK), P0.16 (LATCH) â€” 3í•€ ë™ì¼
> - **ëŒ€ê¸° ì „ë ¥**: 0.024mA (WS2812B 6mA ëŒ€ë¹„ 250ë°° ì ˆì•½)
> - **LED ìƒíƒœ**: ì™„ë£Œ=ì´ˆë¡ ê³ ì •, ì§„í–‰ì¤‘=ì´ˆë¡ ê¹œë¹¡, ì˜ˆì •=ë¹¨ê°• ê³ ì •, ë¯¸ì„¤ì •=êº¼ì§

**74HC595 ë¹„íŠ¸ í• ë‹¹**:

```
74HC595 #1 (Q0~Q7): ì´ˆë¡ LED 1~8 (8ë¹„íŠ¸)
74HC595 #2 (Q0~Q7): ì´ˆë¡ LED 9~10 + ë¹¨ê°• LED 1~6 (8ë¹„íŠ¸)
74HC595 #3 (Q0~Q7): ë¹¨ê°• LED 7~10 + ì—¬ìœ  4ë¹„íŠ¸ (8ë¹„íŠ¸)
```

```c
// 74HC595 Ã—3 ë°ì´ì§€ì²´ì¸ìœ¼ë¡œ 2ìƒ‰ LED 20ê°œ ì¶œë ¥ ì œì–´ (GPIO 3í•€)
#define SR_DATA_PIN   14  // P0.14
#define SR_CLK_PIN    15  // P0.15
#define SR_LATCH_PIN  16  // P0.16

// 24ë¹„íŠ¸ ì‹œí”„íŠ¸ ì•„ì›ƒ (MSB first, 3ë²ˆì§¸ ICë¶€í„° ì „ì†¡)
void shift_out_24bit(uint32_t pattern) {
    gpio_pin_set(gpio_dev, SR_LATCH_PIN, 0);
    for (int i = 23; i >= 0; i--) {
        gpio_pin_set(gpio_dev, SR_DATA_PIN, (pattern >> i) & 1);
        gpio_pin_set(gpio_dev, SR_CLK_PIN, 1);
        gpio_pin_set(gpio_dev, SR_CLK_PIN, 0);
    }
    gpio_pin_set(gpio_dev, SR_LATCH_PIN, 1);
}

// ë¹„íŠ¸ ìœ„ì¹˜ ë§¤í•‘
// bit 0~7:   ì´ˆë¡ LED 1~8  (74HC595 #1)
// bit 8~9:   ì´ˆë¡ LED 9~10 (74HC595 #2 Q0~Q1)
// bit 10~15: ë¹¨ê°• LED 1~6  (74HC595 #2 Q2~Q7)
// bit 16~19: ë¹¨ê°• LED 7~10 (74HC595 #3 Q0~Q3)
// bit 20~23: ì—¬ìœ            (74HC595 #3 Q4~Q7)

#define GREEN_LED(n)  (1UL << ((n) - 1))          // n: 1~10
#define RED_LED(n)    (1UL << ((n) - 1 + 10))     // n: 1~10

// LED ìƒíƒœ ì—…ë°ì´íŠ¸
// ì™„ë£Œ=ì´ˆë¡ ê³ ì •, ì§„í–‰ì¤‘=ì´ˆë¡ ê¹œë¹¡, ì˜ˆì •=ë¹¨ê°• ê³ ì •, ë¯¸ì„¤ì •=êº¼ì§
static uint32_t led_pattern = 0;

void update_set_leds(int completed, int current, int total) {
    led_pattern = 0;
    for (int i = 1; i <= 10; i++) {
        if (i <= completed) {
            led_pattern |= GREEN_LED(i);     // ì™„ë£Œ: ì´ˆë¡ ê³ ì •
        } else if (i == current + 1) {
            // ì§„í–‰ì¤‘: ì´ˆë¡ ê¹œë¹¡ (íƒ€ì´ë¨¸ì—ì„œ í† ê¸€)
            led_pattern |= GREEN_LED(i);
        } else if (i <= total) {
            led_pattern |= RED_LED(i);       // ì˜ˆì •: ë¹¨ê°• ê³ ì •
        }
        // else: ë¯¸ì„¤ì • = êº¼ì§ (ë¹„íŠ¸ 0)
    }
    shift_out_24bit(led_pattern);
}

// ê¹œë¹¡ì„ íƒ€ì´ë¨¸ (ì§„í–‰ì¤‘ ì„¸íŠ¸ LED 500ms í† ê¸€)
void led_blink_handler(struct k_timer *timer) {
    static bool blink_on = true;
    blink_on = !blink_on;
    if (blink_on) {
        shift_out_24bit(led_pattern);
    } else {
        // ì§„í–‰ì¤‘ ì„¸íŠ¸ì˜ ì´ˆë¡ LEDë§Œ ë„ê¸°
        uint32_t blink_mask = GREEN_LED(current_set + 1);
        shift_out_24bit(led_pattern & ~blink_mask);
    }
}
```

ê·¸ëŸ¬ë‹ˆê¹Œ WS2812BëŠ” RGB LEDë¼ í™”ë ¤í•˜ì§€ë§Œ ëŒ€ê¸° ì „ë ¥ì´ 6mAë‚˜ ë¨¹ì—ˆìŠµë‹ˆë‹¤. 74HC595 + 2ìƒ‰ LEDëŠ” ì´ˆë¡/ë¹¨ê°• 2ê°€ì§€ ìƒ‰ë§Œ ì“°ì§€ë§Œ, ëŒ€ê¸° ì „ë ¥ì´ 0.024mAë¡œ 250ë°° ì ˆì•½ë©ë‹ˆë‹¤. "ì™„ë£Œ=ì´ˆë¡, ì˜ˆì •=ë¹¨ê°•"ìœ¼ë¡œ í•œëˆˆì— ì„¸íŠ¸ ì§„í–‰ ìƒíƒœë¥¼ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### 5.1.7 NFC ë¦¬ë” (NT3H2111)

ì„¼ì„œ ê¸°ê¸° ë‚´ë¶€ì˜ NFC ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ, ê¸°êµ¬ í”„ë ˆì„ì— ë¶€ì°©ëœ NFC ìŠ¤í‹°ì»¤ë¥¼ ì½ìŠµë‹ˆë‹¤. ë‹¤ë§Œ ì‹¤ì œë¡œëŠ” **ìŠ¤ë§ˆíŠ¸í°ì´ NFC ìŠ¤í‹°ì»¤ë¥¼ ì½ê³ **, ê·¸ ê²°ê³¼ë¥¼ BLEë¡œ ì„¼ì„œì— ì „ë‹¬í•˜ëŠ” êµ¬ì¡°ê°€ ë” ì‹¤ìš©ì ì…ë‹ˆë‹¤.

ê·¸ëŸ¬ë‹ˆê¹Œ NFC íƒœê·¸ â†’ ìŠ¤ë§ˆíŠ¸í°ì´ ì½ìŒ â†’ ì•±ì—ì„œ ê¸°êµ¬ ì‹ë³„ â†’ BLEë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ì— "ì´ ê¸°êµ¬ì•¼, ë¬´ê²Œ 100kg í‘œì‹œí•´" ì „ì†¡í•˜ëŠ” íë¦„ì…ë‹ˆë‹¤.

#### 5.1.8 ë°°í„°ë¦¬ ê´€ë¦¬

```c
// ë°°í„°ë¦¬ ì „ì•• â†’ ì”ëŸ‰ ë³€í™˜ (LiPo 3.0~4.2V)
uint8_t battery_get_level(void) {
    float voltage = adc_read_battery();
    if (voltage >= 4.1f) return 100;
    if (voltage >= 3.9f) return 75;
    if (voltage >= 3.7f) return 50;
    if (voltage >= 3.5f) return 25;
    if (voltage >= 3.3f) return 10;
    return 0;  // ìœ„í—˜
}

// ì €ë°°í„°ë¦¬ ê²½ê³  (20% ì´í•˜)
void battery_check_low(void) {
    uint8_t level = battery_get_level();
    if (level <= 20) {
        fica_ble_notify_battery(level);  // ì•±ì— ì•Œë¦¼
        vibrate_pattern(PATTERN_LOW_BATTERY);
    }
}
```

#### 5.1.9 íœ´ì‹ íƒ€ì´ë¨¸

```c
// íœ´ì‹ ì¹´ìš´íŠ¸ë‹¤ìš´
void rest_timer_start(uint16_t seconds) {
    rest_remaining = seconds;
    k_timer_start(&rest_timer, K_SECONDS(1), K_SECONDS(1));
}

void rest_timer_tick(struct k_timer *timer) {
    rest_remaining--;
    display_number(rest_remaining);
    fica_ble_notify_rest_timer(rest_remaining);

    if (rest_remaining <= 10) {
        vibrate_short();  // 10ì´ˆ ì „ë¶€í„° ì§„ë™
    }
    if (rest_remaining == 0) {
        k_timer_stop(timer);
        state_machine_event(EVENT_REST_COMPLETE);
    }
}
```

#### 5.1.10 ìƒíƒœ ë¨¸ì‹  (State Machine)

ì „ì²´ ë™ì‘ íë¦„(Ch.3)ì„ íŒì›¨ì–´ ìƒíƒœ ë¨¸ì‹ ìœ¼ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤.

```c
typedef enum {
    STATE_IDLE,       // STEP 0: ëŒ€ê¸° (ì €ì „ë ¥)
    STATE_CONNECTED,  // STEP 1: BLE ì—°ê²°ë¨ (NFC íƒ­ í›„)
    STATE_READY,      // STEP 2: ì„¸íŠ¸ ì„¤ì • ì™„ë£Œ
    STATE_COUNTING,   // STEP 3: ìš´ë™ ì¤‘ (íšŸìˆ˜ ì¹´ìš´íŒ…)
    STATE_RESTING,    // STEP 4: íœ´ì‹ ì¤‘
    STATE_COMPLETED,  // STEP 6: ëª¨ë“  ì„¸íŠ¸ ì™„ë£Œ
} fica_state_t;

typedef enum {
    EVENT_BLE_CONNECTED,
    EVENT_BLE_DISCONNECTED,
    EVENT_CONFIG_RECEIVED,   // ì„¸íŠ¸ìˆ˜/ë¬´ê²Œ ì„¤ì • ìˆ˜ì‹ 
    EVENT_MOTION_DETECTED,   // Wake-on-Motion
    EVENT_REP_COUNTED,       // 1íšŒ ì™„ë£Œ
    EVENT_SET_COMPLETE,      // ì„¸íŠ¸ ì™„ë£Œ (ë¬´ì›€ì§ì„ ê°ì§€)
    EVENT_REST_COMPLETE,     // íœ´ì‹ ë
    EVENT_ALL_SETS_DONE,     // ì „ì²´ ì™„ë£Œ
    EVENT_TIMEOUT,           // ì‹œê°„ ì´ˆê³¼
    EVENT_BUTTON_PLUS,       // + ë²„íŠ¼
    EVENT_BUTTON_MINUS,      // - ë²„íŠ¼
} fica_event_t;

void state_machine_event(fica_event_t event) {
    switch (current_state) {
    case STATE_IDLE:
        if (event == EVENT_BLE_CONNECTED) {
            current_state = STATE_CONNECTED;
            display_on();
        }
        break;

    case STATE_CONNECTED:
        if (event == EVENT_CONFIG_RECEIVED) {
            current_state = STATE_READY;
            update_set_leds(0, 0, total_sets);
            display_number(current_weight);
        }
        break;

    case STATE_READY:
    case STATE_RESTING:
        if (event == EVENT_MOTION_DETECTED) {
            current_state = STATE_COUNTING;
            rep_counter_reset();
        }
        break;

    case STATE_COUNTING:
        if (event == EVENT_REP_COUNTED) {
            display_number(rep_count);
            fica_ble_notify_rep_count(rep_count);
        }
        if (event == EVENT_SET_COMPLETE) {
            current_set++;
            if (current_set >= total_sets) {
                current_state = STATE_COMPLETED;
                state_machine_event(EVENT_ALL_SETS_DONE);
            } else {
                current_state = STATE_RESTING;
                rest_timer_start(rest_duration);
                update_set_leds(current_set, current_set, total_sets);
            }
        }
        break;

    case STATE_COMPLETED:
        display_blink(total_sets, 3);
        fica_ble_send_session_data();
        k_msleep(10000);  // 10ì´ˆ ëŒ€ê¸°
        current_state = STATE_IDLE;
        enter_low_power();
        break;
    }
}
```

---

### 5.2 í•˜ë“œì›¨ì–´ ì„¤ê³„

ì´ ì˜ì—­ì€ Fica ì¹´ìš´í„°ì˜ ë¬¼ë¦¬ì  ê¸°ê¸°ë¥¼ ì„¤ê³„í•©ë‹ˆë‹¤. íšŒë¡œë„ â†’ PCB â†’ 3D ì¼€ì´ìŠ¤ â†’ ì¡°ë¦½ê¹Œì§€ í¬í•¨í•©ë‹ˆë‹¤.

#### 5.2.1 íšŒë¡œë„ ì„¤ê³„ ê°œìš”

nRF52840ì„ ì¤‘ì‹¬ìœ¼ë¡œ ëª¨ë“  ë¶€í’ˆì´ ì—°ê²°ë©ë‹ˆë‹¤:

```
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         SPI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  IMU (ICM-45686     â”‚
                        â”‚  ë˜ëŠ” LSM6DSV)       â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚      nRF52840 MCU          â”‚
                        â”‚   (ë‘ë‡Œ + BLE ë‚´ì¥)          â”‚
                        â””â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”˜
                           â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚
           GPIO(2í•€) â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€â”€ ADC (ë°°í„°ë¦¬)
          (TM1637 7-seg)      â”‚  â”‚  â”‚  â”‚  â”‚  â”‚
                              â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€â”€ PWM+MOSFET
            74HC595Ã—3 â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â”‚  â”‚     (ì§„ë™ ëª¨í„°)
          (2ìƒ‰ LED 10ê°œ)         â”‚  â”‚  â”‚  â”‚
                                 â”‚  â”‚  â”‚  â””â”€â”€ GPIO (ë²„íŠ¼ 2ê°œ)
                I2C â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
              (NFC NT3H2111)        â”‚  â”‚
                                    â”‚  â””â”€â”€ USB-C (ì¶©ì „)
                                    â”‚     (TP4056 + AP2112K)
                              BLE ì•ˆí…Œë‚˜
```

#### 5.2.2 Wake-on-Motion íšŒë¡œ

IMUì˜ INT1 í•€ì„ nRF52840ì˜ GPIO ì¸í„°ëŸ½íŠ¸ì— ì—°ê²°í•©ë‹ˆë‹¤. ì„¼ì„œê°€ ì›€ì§ì„ì„ ê°ì§€í•˜ë©´ INT1 í•€ì´ HIGHê°€ ë˜ì–´ MCUë¥¼ ê¹¨ì›ë‹ˆë‹¤.

```
IMU INT1 â”€â”€â”€â”€ 10kÎ© í’€ë‹¤ìš´ â”€â”€â”€â”€ nRF52840 P0.xx (GPIO ì¸í„°ëŸ½íŠ¸)
```

ê·¸ëŸ¬ë‹ˆê¹Œ ì„¼ì„œê°€ "ì›€ì§ì„ ê°ì§€!"í•˜ë©´ ì „ê¸° ì‹ í˜¸ë¥¼ ë³´ë‚´ì„œ ì ìë˜ MCUë¥¼ ê¹¨ìš°ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ì´ˆì¸ì¢… ëˆ„ë¥´ë©´ ì§‘ ì•ˆ ë²¨ì´ ìš¸ë¦¬ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤.

#### 5.2.3 NFC (NT3H2111) ì—°ê²°

```
NT3H2111 â”€â”€â”€â”€ I2C (SDA, SCL) â”€â”€â”€â”€ nRF52840
         â”€â”€â”€â”€ ì•ˆí…Œë‚˜ ì½”ì¼ (ì™¸ë¶€, PCB íŒ¨í„´ ë˜ëŠ” ì™¸ì¥)
```

NFC ì•ˆí…Œë‚˜ëŠ” PCB ì™¸ê³½ì— êµ¬ë¦¬ íŒ¨í„´ìœ¼ë¡œ ì—ì¹­í•˜ê±°ë‚˜, ì™¸ì¥ ì½”ì¼ ì•ˆí…Œë‚˜ë¥¼ ì—°ê²°í•©ë‹ˆë‹¤.

#### 5.2.4 TM1637 7-ì„¸ê·¸ë¨¼íŠ¸ ë””ìŠ¤í”Œë ˆì´

> **ë³€ê²½ (2026-02-22)**: MAX7219(SPI) â†’ TM1637(GPIO bit-bang 2í•€). IMU SPI0 ë²„ìŠ¤ì™€ ë…ë¦½.

```
nRF52840                TM1637               7-ì„¸ê·¸ë¨¼íŠ¸ (3ìë¦¬)
  P0.11(CLK) â”€â”€â”€â”€â”€â”€â”€â”€ CLK                SEG A~G, DP
  P0.12(DIO) â”€â”€â”€â”€â”€â”€â”€â”€ DIO   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ GRID 1~3
  VCC 3.3V   â”€â”€â”€â”€â”€â”€â”€â”€ VCC
  GND        â”€â”€â”€â”€â”€â”€â”€â”€ GND

* SPI ë¶ˆí•„ìš” â€” GPIO 2í•€ìœ¼ë¡œ bit-bang í†µì‹ 
* IMU(SPI0)ì™€ ë²„ìŠ¤ ì¶©ëŒ ì—†ìŒ
* Zephyr ê³µì‹ ë“œë¼ì´ë²„ ì—†ìŒ â†’ ì»¤ìŠ¤í…€ êµ¬í˜„ (~50ì¤„)
```

#### 5.2.5 74HC595 Ã—3 ì„¸íŠ¸ LED ì œì–´ (2ìƒ‰ LED)

> **ë³€ê²½ (2026-02-22)**: 74HC595 Ã—2 ë‹¨ìƒ‰ â†’ **Ã—3 ë°ì´ì§€ì²´ì¸ + 2ìƒ‰ LED(ì´ˆë¡/ë¹¨ê°•)**.
> 10ì„¸íŠ¸ Ã— 2ìƒ‰ = 20ë¹„íŠ¸ í•„ìš” â†’ 74HC595 3ê°œ (24ë¹„íŠ¸, 4ë¹„íŠ¸ ì—¬ìœ ).

```
nRF52840              74HC595 #1          ì´ˆë¡ LED 1~8
  P0.14(DATA) â”€â”€â”€â”€â”€â”€â”€â”€ SER(14)       Q0~Q7 â”€â”€â”€ 220Î© â”€â”€â”€ ì´ˆë¡ LED 1~8
  P0.15(CLK)  â”€â”€â”€â”€â”€â”€â”€â”€ SRCLK(11)
  P0.16(LATCH)â”€â”€â”€â”€â”€â”€â”€â”€ RCLK(12)                Q7'(9) â”€â”€â”
  VCC 3.3V    â”€â”€â”€â”€â”€â”€â”€â”€ VCC(16)                           â”‚
  GND         â”€â”€â”€â”€â”€â”€â”€â”€ GND(8)                            â”‚
                        OE(13) â”€â”€â”€ GND                   â”‚
                        SRCLR(10) â”€ VCC                  â”‚
                                                         â”‚
                      74HC595 #2          ì´ˆë¡9~10 + ë¹¨ê°•1~6
                 â”Œâ”€â”€â”€â”€ SER(14) â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚     Q0~Q1 â”€â”€â”€ 220Î© â”€â”€â”€ ì´ˆë¡ LED 9~10
                 â”‚     Q2~Q7 â”€â”€â”€ 220Î© â”€â”€â”€ ë¹¨ê°• LED 1~6
                 â”‚                         Q7'(9) â”€â”€â”
                 â”‚                                   â”‚
                      74HC595 #3          ë¹¨ê°•7~10 + ì—¬ìœ 
                 â”Œâ”€â”€â”€â”€ SER(14) â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚     Q0~Q3 â”€â”€â”€ 220Î© â”€â”€â”€ ë¹¨ê°• LED 7~10
                 â”‚     Q4~Q7 â”€â”€â”€ (ì—¬ìœ , ë¯¸ì—°ê²°)

* SRCLK, RCLKì€ 3ê°œ IC ê³µí†µ ì—°ê²°
* OE(13) = GND (í•­ìƒ í™œì„±), SRCLR(10) = VCC (ë¦¬ì…‹ ì•ˆ í•¨)
```

**ë¹„íŠ¸ í• ë‹¹ ìƒì„¸**:

| 74HC595 | ì¶œë ¥ | ì—°ê²° |
|---------|------|------|
| #1 Q0~Q7 | bit 0~7 | ì´ˆë¡ LED 1~8 |
| #2 Q0~Q1 | bit 8~9 | ì´ˆë¡ LED 9~10 |
| #2 Q2~Q7 | bit 10~15 | ë¹¨ê°• LED 1~6 |
| #3 Q0~Q3 | bit 16~19 | ë¹¨ê°• LED 7~10 |
| #3 Q4~Q7 | bit 20~23 | ì—¬ìœ  (ë¯¸ì‚¬ìš©) |

**LED ìƒíƒœ ì •ì˜**:

| ìƒíƒœ | ì´ˆë¡ | ë¹¨ê°• | í‘œì‹œ |
|------|------|------|------|
| ì™„ë£Œ | ON | OFF | ì´ˆë¡ ê³ ì • |
| ì§„í–‰ì¤‘ | ê¹œë¹¡ | OFF | ì´ˆë¡ 500ms í† ê¸€ |
| ì˜ˆì • | OFF | ON | ë¹¨ê°• ê³ ì • |
| ë¯¸ì„¤ì • | OFF | OFF | êº¼ì§ |

**ëŒ€ê¸° ì „ë ¥**: ëª¨ë“  LED OFF ì‹œ 74HC595 Ã—3 = ~0.024mA (WS2812B 6mA ëŒ€ë¹„ 250ë°° ì ˆì•½)

#### 5.2.6 ë²„íŠ¼ íšŒë¡œ (+/- ë¬´ê²Œ ì¡°ì •)

```
VCC â”€â”€â”€â”€ 10kÎ© â”€â”€â”¬â”€â”€ nRF52840 GPIO (í’€ì—…)
                 â”‚
            ë²„íŠ¼ â”¤
                 â”‚
                GND

* ë””ë°”ìš´ì‹±: ì†Œí”„íŠ¸ì›¨ì–´(20ms ë”œë ˆì´) + í•˜ë“œì›¨ì–´(100nF ì»¤íŒ¨ì‹œí„°)
```

#### 5.2.7 ì§„ë™ ëª¨í„°

```
nRF52840 PWM â”€â”€â”€â”€ MOSFET Gate
                    â”‚
                  Drain â”€â”€â”€â”€ ì§„ë™ ëª¨í„° â”€â”€â”€â”€ VCC
                    â”‚
                  Source â”€â”€â”€â”€ GND

* ì—­ê¸°ì „ë ¥ ë³´í˜¸: ëª¨í„° ì–‘ë‹¨ ë‹¤ì´ì˜¤ë“œ (1N4148)
* PWMìœ¼ë¡œ ì§„ë™ ì„¸ê¸° ì¡°ì ˆ ê°€ëŠ¥
```

#### 5.2.8 ì¶©ì „ íšŒë¡œ (TP4056 + AP2112K)

```
USB-C â”€â”€â”€â”€ TP4056 â”€â”€â”€â”€ LiPo ë°°í„°ë¦¬ (500mAh)
              â”‚                â”‚
              â””â”€â”€ CHRG LED     â”‚
                               â”‚
                          AP2112K LDO â”€â”€â”€â”€ 3.3V (ì‹œìŠ¤í…œ ì „ì›)
                               â”‚
                          ADC â”€â”€â”€â”€ nRF52840 (ë°°í„°ë¦¬ ì”ëŸ‰ ì¸¡ì •)
```

- TP4056: LiPo ì¶©ì „ IC (1A ì¶©ì „, ì•½ 1ì‹œê°„)
- AP2112K: 3.3V LDO ë ˆê·¤ë ˆì´í„° (ì € ë“œë¡­ì•„ì›ƒ, ì € ì†ŒìŒ)

ê·¸ëŸ¬ë‹ˆê¹Œ USB-Cë¡œ ì¶©ì „í•˜ë©´ TP4056ì´ ë°°í„°ë¦¬ë¥¼ ì•ˆì „í•˜ê²Œ ì¶©ì „í•˜ê³ , AP2112Kê°€ ë°°í„°ë¦¬ ì „ì••ì„ ì•ˆì •ì ì¸ 3.3Vë¡œ ë°”ê¿”ì„œ ëª¨ë“  ë¶€í’ˆì— ê³µê¸‰í•˜ëŠ” ê²ë‹ˆë‹¤.

#### 5.2.9 í•€ í• ë‹¹í‘œ

| nRF52840 í•€ | ìš©ë„ | í”„ë¡œí† ì½œ |
|------------|------|---------|
| P0.05 | IMU MOSI | SPI0 |
| P0.06 | IMU MISO | SPI0 |
| P0.07 | IMU SCK | SPI0 |
| P0.08 | IMU CS | GPIO |
| P0.09 | IMU INT1 (WOM) | GPIO ì¸í„°ëŸ½íŠ¸ |
| P0.11 | TM1637 CLK | GPIO (bit-bang) |
| P0.12 | TM1637 DIO | GPIO (bit-bang) |
| P0.14 | 74HC595 DATA | GPIO |
| P0.15 | 74HC595 CLK | GPIO |
| P0.16 | 74HC595 LATCH | GPIO |
| P0.17 | ë²„íŠ¼ + | GPIO (í’€ì—…) |
| P0.18 | ë²„íŠ¼ - | GPIO (í’€ì—…) |
| P0.19 | ì§„ë™ ëª¨í„° | PWM |
| P0.26 | NFC SDA | I2C |
| P0.27 | NFC SCL | I2C |
| P0.29 | ë°°í„°ë¦¬ ADC | SAADC |
| P0.30 | ì¶©ì „ ìƒíƒœ ê°ì§€ | GPIO |

#### 5.2.10 PCB ë ˆì´ì•„ì›ƒ

**í¬ê¸°**: 70Ã—40mm (2ë ˆì´ì–´)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [USB-C]  [TP4056] [LDO]     [ë°°í„°ë¦¬ ì»¤ë„¥í„°]      â”‚
â”‚                                                 â”‚
â”‚  [nRF52840 ëª¨ë“ˆ]      [IMU]                      â”‚
â”‚                              [NFC ì»¨íŠ¸ë¡¤ëŸ¬]       â”‚
â”‚  [TM1637]   [74HC595Ã—3]                         â”‚
â”‚                                                 â”‚
â”‚  [7-ì„¸ê·¸ ì»¤ë„¥í„°]  [LED ì»¤ë„¥í„°]  [ë²„íŠ¼Ã—2]  [ì§„ë™ëª¨í„°]  â”‚
â”‚                                                 â”‚
â”‚  â•â•â•â•â•â•â•â• NFC ì•ˆí…Œë‚˜ íŒ¨í„´ (PCB ì™¸ê³½) â•â•â•â•â•â•â•â•      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì„¤ê³„ ì£¼ì˜ì‚¬í•­**:
- IMU ì£¼ë³€ êµ¬ë¦¬ ì œê±° (ì—´/ì§„ë™ ê²©ë¦¬)
- NFC ì•ˆí…Œë‚˜ëŠ” ê¸ˆì†ì—ì„œ ìµœëŒ€í•œ ì´ê²©
- ì „ì› ë¼ì¸ì€ 0.5mm ì´ìƒ ë‘ê»˜
- BLE ì•ˆí…Œë‚˜ ê·¼ì²˜ GND í”Œë ˆì¸ í™•ë³´

#### 5.2.11 3D ì¼€ì´ìŠ¤

**ì™¸í˜•**: 80Ã—50Ã—20mm (ì¹´ë“œ ì ˆë°˜ í¬ê¸°)

```
ì •ë©´ (ì‚¬ìš©ì ì‹œì•¼):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              â”‚
â”‚    â•”â•â•â•â•— â•”â•â•â•â•— â•”â•â•â•â•—        â”‚
â”‚    â•‘ 1 â•‘ â•‘ 0 â•‘ â•‘ 0 â•‘  â† 7-ì„¸ê·¸ (ë¬´ê²Œ/íšŸìˆ˜)
â”‚    â•šâ•â•â•â• â•šâ•â•â•â• â•šâ•â•â•â•        â”‚
â”‚                              â”‚
â”‚  â— â— â— â— â— â— â— â— â— â—     â”‚ â† ì„¸íŠ¸ LED 10ê°œ
â”‚                              â”‚
â”‚         [+]  [-]             â”‚ â† ë¬´ê²Œ ì¡°ì • ë²„íŠ¼
â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ë’·ë©´:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              â”‚
â”‚    â—‰ â—‰ â—‰ â—‰                  â”‚ â† ë„¤ì˜¤ë””ë®´ ìì„ 4ê°œ
â”‚                              â”‚
â”‚         [USB-C]              â”‚ â† ì¶©ì „ í¬íŠ¸
â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì¬ì§ˆ**: ì‹œì œí’ˆì€ SLA 3D í”„ë¦°íŒ… (ë ˆì§„), ì–‘ì‚°ì€ ì‚¬ì¶œ ì„±í˜• (ABS/PC)

#### 5.2.12 ìì„ ë§ˆìš´íŠ¸

- ë„¤ì˜¤ë””ë®´ N35 ìì„ 4ê°œ (ì§ê²½ 10mm Ã— ë†’ì´ 3mm)
- ì¼€ì´ìŠ¤ ë’·ë©´ ì½”ë„ˆì— ë§¤ë¦½
- ì¸ë ¥ ì•½ 2kg Ã— 4 = 8kg (ìš´ë™ ì§„ë™ì— ì•ˆ ë–¨ì–´ì§)
- ê¸°êµ¬ ì² ì¬ í”„ë ˆì„ì— "ì°°ì¹µ" ë¶€ì°©/íƒˆì°©

#### 5.2.13 ë°©ìˆ˜ (IPX4)

- ì¼€ì´ìŠ¤ ê²°í•©ë¶€ ì‹¤ë¦¬ì½˜ ê°€ìŠ¤ì¼“
- USB-C í¬íŠ¸ ë°©ìˆ˜ ì»¤ë²„
- ë²„íŠ¼ ì‹¤ë¦¬ì½˜ ì»¤ë²„
- IPX4 = ëª¨ë“  ë°©í–¥ ë¬¼ ìŠ¤í”„ë ˆì´ ê²¬ë”¤ (ë•€, ë¬¼ë³‘, ì²­ì†Œ)

---

### 5.3 BLE í”„ë¡œí† ì½œ

ì´ ì˜ì—­ì€ ì„¼ì„œ/ì»¨íŠ¸ë¡¤ëŸ¬ì™€ ìŠ¤ë§ˆíŠ¸í° ì•±ì´ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ëŠ” ê·œì¹™ì„ ì •ì˜í•©ë‹ˆë‹¤. ëª¨ë“  ê°œë°œì˜ ì¶œë°œì ì´ ë˜ë¯€ë¡œ ê°€ì¥ ë¨¼ì € í™•ì •í•´ì•¼ í•©ë‹ˆë‹¤.

ê·¸ëŸ¬ë‹ˆê¹Œ "ì„¼ì„œê°€ ì•±í•œí…Œ ë³´ë‚´ëŠ” ë°ì´í„° í˜•ì‹"ì„ ì•½ì†í•˜ëŠ” ë¬¸ì„œì…ë‹ˆë‹¤. í•œìª½ì—ì„œ ë³´ë‚¸ ë°ì´í„°ë¥¼ ë‹¤ë¥¸ ìª½ì—ì„œ ì œëŒ€ë¡œ ì½ìœ¼ë ¤ë©´ í˜•ì‹ì´ ê°™ì•„ì•¼ í•©ë‹ˆë‹¤. íƒë°° ì†¡ì¥ ì–‘ì‹ì´ í†µì¼ë˜ì–´ ìˆì–´ì•¼ ë°°ì†¡ì´ ë˜ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤.

#### 5.3.1 GATT ì„œë¹„ìŠ¤ êµ¬ì¡°

**Custom Service UUID**: `FCA00000-XXXX-XXXX-XXXX-XXXXXXXXXXXX`

| Characteristic | UUID | ì†ì„± | í¬ê¸° | ì„¤ëª… |
|---------------|------|------|------|------|
| Rep Count | FCA00001 | Read, Notify | uint16 | í˜„ì¬ íšŸìˆ˜ |
| Weight | FCA00002 | Read, Write, Notify | uint16 | í˜„ì¬ ë¬´ê²Œ (0.1kg ë‹¨ìœ„, 1000=100.0kg) |
| Set Status | FCA00003 | Read, Notify | uint8 | 0=ëŒ€ê¸°, 1=ìš´ë™ì¤‘, 2=íœ´ì‹, 3=ì™„ë£Œ |
| Current Set | FCA00004 | Read, Notify | uint8 | í˜„ì¬ ì„¸íŠ¸ ë²ˆí˜¸ (1~10) |
| Total Sets | FCA00005 | Read, Write | uint8 | ì´ ì„¸íŠ¸ ìˆ˜ (1~10) |
| Rest Timer | FCA00006 | Read, Notify | uint16 | ë‚¨ì€ íœ´ì‹ì‹œê°„ (ì´ˆ) |
| Rest Duration | FCA00007 | Read, Write | uint16 | ì„¤ì •ëœ íœ´ì‹ì‹œê°„ (ì´ˆ) |
| Session Data | FCA00008 | Read, Indicate | ê°€ë³€ | ì „ì²´ ì„¸ì…˜ ë°ì´í„° (JSON ë˜ëŠ” ë°”ì´ë„ˆë¦¬) |
| Equipment ID | FCA00009 | Read | UTF-8 | NFCì—ì„œ ì½ì€ ê¸°êµ¬ ID |
| Command | FCA0000A | Write | uint8 | ëª…ë ¹ ì „ì†¡ (ì•„ë˜ í‘œ ì°¸ì¡°) |
| Battery Level | 0x2A19 | Read, Notify | uint8 | ë°°í„°ë¦¬ ì”ëŸ‰ (í‘œì¤€ UUID) |
| Firmware Ver | 0x2A26 | Read | UTF-8 | íŒì›¨ì–´ ë²„ì „ (í‘œì¤€ UUID) |

**Command ê°’ ì •ì˜**:

| ê°’ | ëª…ë ¹ | ì„¤ëª… |
|----|------|------|
| 0x01 | START_SESSION | ì„¸ì…˜ ì‹œì‘ |
| 0x02 | STOP_SESSION | ì„¸ì…˜ ì¤‘ë‹¨ |
| 0x03 | RESET_SET | í˜„ì¬ ì„¸íŠ¸ ë¦¬ì…‹ |
| 0x04 | SKIP_REST | íœ´ì‹ ê±´ë„ˆë›°ê¸° |
| 0x05 | ADD_SET | ì„¸íŠ¸ ì¶”ê°€ |
| 0x10 | OTA_START | OTA ì—…ë°ì´íŠ¸ ì‹œì‘ |
| 0xFF | FACTORY_RESET | ì´ˆê¸°í™” |

#### 5.3.2 Session Data íŒ¨í‚· êµ¬ì¡°

ì„¸ì…˜ ì™„ë£Œ(STEP 6) ì‹œ ì „ì†¡ë˜ëŠ” ì „ì²´ ë°ì´í„°:

```
Byte 0-1:  session_id (uint16, ë¡œì»¬ ì‹œí€€ìŠ¤)
Byte 2:    total_sets (uint8)
Byte 3~N:  ì„¸íŠ¸ë³„ ë°ì´í„° (ê° 6ë°”ì´íŠ¸)
  - Byte 0-1: weight_x10 (uint16, 0.1kg ë‹¨ìœ„)
  - Byte 2:   reps (uint8)
  - Byte 3:   rest_seconds (uint8)
  - Byte 4-5: duration_seconds (uint16, ì„¸íŠ¸ ì†Œìš”ì‹œê°„)
```

**ì˜ˆì‹œ**: 100kg Ã— 10íšŒ Ã— 4ì„¸íŠ¸

```
Session ID: 0x0042
Total Sets: 4
Set 1: [03E8, 0A, 5A, 001E]  â†’ 100.0kg, 10íšŒ, 90ì´ˆ íœ´ì‹, 30ì´ˆ ì†Œìš”
Set 2: [03E8, 08, 5A, 0023]  â†’ 100.0kg, 8íšŒ, 90ì´ˆ íœ´ì‹, 35ì´ˆ ì†Œìš”
Set 3: [0384, 0A, 5A, 0020]  â†’ 90.0kg, 10íšŒ, 90ì´ˆ íœ´ì‹, 32ì´ˆ ì†Œìš”
Set 4: [0384, 08, 00, 0025]  â†’ 90.0kg, 8íšŒ, 0ì´ˆ(ë§ˆì§€ë§‰), 37ì´ˆ ì†Œìš”
```

#### 5.3.3 BLE ì—°ê²° íë¦„

```
1. ì„¼ì„œ ê´‘ê³ (Advertising) â†’ "Fica-XXXX" ì´ë¦„ìœ¼ë¡œ BLE ê´‘ê³ 
2. ì•± ìŠ¤ìº” â†’ Fica ì¥ì¹˜ ë°œê²¬
3. ì—°ê²° ìš”ì²­ â†’ í˜ì–´ë§ (Just Works)
4. ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬ â†’ FCA00000 ì„œë¹„ìŠ¤ ì°¾ê¸°
5. Notify êµ¬ë… â†’ RepCount, SetStatus, RestTimer êµ¬ë…
6. ì„¤ì • ì „ì†¡ â†’ Weight, TotalSets, RestDuration Write
7. ë°ì´í„° ìˆ˜ì‹  â†’ Notify ì½œë°±ì—ì„œ UI ì—…ë°ì´íŠ¸
```

#### 5.3.4 ì¬ì—°ê²° ì „ëµ

```
BLE ëŠê¹€ ê°ì§€ (connection timeout)
    â†“
ì„¼ì„œ: ë¡œì»¬ ë²„í¼ì— ë°ì´í„° ê³„ì† ì €ì¥ (ìµœëŒ€ 10ì„¸íŠ¸)
    â†“
ì•±: ìë™ ì¬ì—°ê²° ì‹œë„ (3ì´ˆ ê°„ê²©, ìµœëŒ€ 30ì´ˆ)
    â†“
ì¬ì—°ê²° ì„±ê³µ â†’ ë²„í¼ë§ëœ ë°ì´í„° ì¼ê´„ ì „ì†¡
    â†“
ì¬ì—°ê²° ì‹¤íŒ¨ â†’ ì„¸ì…˜ ì¢…ë£Œ í›„ ë‹¤ìŒ ì—°ê²° ì‹œ ì „ì†¡
```

ê·¸ëŸ¬ë‹ˆê¹Œ ìš´ë™ ì¤‘ì— ë¸”ë£¨íˆ¬ìŠ¤ê°€ ì ê¹ ëŠê²¨ë„, ì„¼ì„œê°€ ìì²´ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ìˆë‹¤ê°€ ë‹¤ì‹œ ì—°ê²°ë˜ë©´ í•œêº¼ë²ˆì— ë³´ë‚´ì£¼ëŠ” ê²ë‹ˆë‹¤. íƒë°°ê°€ ì ê¹ ëª» ì™”ì–´ë„ ë‚˜ì¤‘ì— ë°€ë¦° ê²ƒê¹Œì§€ í•œêº¼ë²ˆì— ë°°ë‹¬ë˜ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤.

---

### 5.4 ì•± ì—°ë™ (Flutter)

ê¸°ì¡´ V2log ì•±ì— BLE ì—°ë™ + NFC ì½ê¸° + ì„¼ì„œ ë°ì´í„° ìˆ˜ì‹  ê¸°ëŠ¥ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

#### 5.4.1 flutter_blue_plus BLE ì—°ë™

Riverpod ê¸°ë°˜ìœ¼ë¡œ BLE ì„œë¹„ìŠ¤ì™€ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ êµ¬í˜„í•©ë‹ˆë‹¤.

**FicaBleService** (BLE í†µì‹  ë˜í¼):

```dart
// lib/data/services/fica_ble_service.dart

import 'package:flutter_blue_plus/flutter_blue_plus.dart';
import 'package:riverpod_annotation/riverpod_annotation.dart';

part 'fica_ble_service.g.dart';

class FicaBleService {
  BluetoothDevice? _connectedDevice;
  BluetoothCharacteristic? _repCountChar;
  BluetoothCharacteristic? _weightChar;
  BluetoothCharacteristic? _setStatusChar;
  BluetoothCharacteristic? _restTimerChar;
  BluetoothCharacteristic? _sessionDataChar;

  // ì„œë¹„ìŠ¤/íŠ¹ì„± UUID
  static const String serviceUuid = 'fca00000-xxxx-xxxx-xxxx-xxxxxxxxxxxx';
  static const String repCountUuid = 'fca00001-xxxx-xxxx-xxxx-xxxxxxxxxxxx';
  static const String weightUuid = 'fca00002-xxxx-xxxx-xxxx-xxxxxxxxxxxx';
  static const String setStatusUuid = 'fca00003-xxxx-xxxx-xxxx-xxxxxxxxxxxx';
  static const String restTimerUuid = 'fca00006-xxxx-xxxx-xxxx-xxxxxxxxxxxx';
  static const String sessionDataUuid = 'fca00008-xxxx-xxxx-xxxx-xxxxxxxxxxxx';

  /// BLE ìŠ¤ìº” â†’ Fica ì¥ì¹˜ ì°¾ê¸°
  Stream<List<ScanResult>> scanForFicaDevices() {
    FlutterBluePlus.startScan(
      withServices: [Guid(serviceUuid)],
      timeout: const Duration(seconds: 10),
    );
    return FlutterBluePlus.scanResults;
  }

  /// ì—°ê²° + ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬
  Future<void> connect(BluetoothDevice device) async {
    await device.connect(autoConnect: true);
    _connectedDevice = device;

    List<BluetoothService> services = await device.discoverServices();
    final ficaService = services.firstWhere(
      (s) => s.uuid == Guid(serviceUuid),
    );

    for (var char in ficaService.characteristics) {
      switch (char.uuid.toString()) {
        case repCountUuid:
          _repCountChar = char;
          await char.setNotifyValue(true);
          break;
        case weightUuid:
          _weightChar = char;
          break;
        case setStatusUuid:
          _setStatusChar = char;
          await char.setNotifyValue(true);
          break;
        case restTimerUuid:
          _restTimerChar = char;
          await char.setNotifyValue(true);
          break;
        case sessionDataUuid:
          _sessionDataChar = char;
          break;
      }
    }
  }

  /// íšŸìˆ˜ ìŠ¤íŠ¸ë¦¼
  Stream<int> get repCountStream =>
      _repCountChar!.onValueReceived.map((bytes) =>
          bytes[0] | (bytes[1] << 8));  // Little-endian uint16

  /// ì„¸íŠ¸ ìƒíƒœ ìŠ¤íŠ¸ë¦¼
  Stream<int> get setStatusStream =>
      _setStatusChar!.onValueReceived.map((bytes) => bytes[0]);

  /// ë¬´ê²Œ ì „ì†¡ (ì•± â†’ ì„¼ì„œ)
  Future<void> setWeight(double weightKg) async {
    int weightX10 = (weightKg * 10).round();
    await _weightChar!.write([
      weightX10 & 0xFF,
      (weightX10 >> 8) & 0xFF,
    ]);
  }

  /// ì„¸íŠ¸ ìˆ˜ ì „ì†¡
  Future<void> setTotalSets(int sets) async {
    final char = /* totalSets characteristic */;
    await char.write([sets]);
  }
}
```

**FicaController** (Riverpod ìƒíƒœ ê´€ë¦¬):

```dart
// lib/domain/providers/fica_provider.dart

@riverpod
class FicaController extends _$FicaController {
  late FicaBleService _bleService;

  @override
  FicaState build() {
    _bleService = ref.read(ficaBleServiceProvider);
    return const FicaState.disconnected();
  }

  /// ì„¼ì„œ ì—°ê²°
  Future<void> connectToSensor(BluetoothDevice device) async {
    state = const FicaState.connecting();
    try {
      await _bleService.connect(device);
      state = const FicaState.connected();
      _listenToUpdates();
    } catch (e) {
      state = FicaState.error('ì—°ê²° ì‹¤íŒ¨: $e');
    }
  }

  /// ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì‹ 
  void _listenToUpdates() {
    _bleService.repCountStream.listen((count) {
      state = state.copyWith(currentReps: count);
    });
    _bleService.setStatusStream.listen((status) {
      state = state.copyWith(setStatus: SetStatus.values[status]);
    });
  }

  /// ë¬´ê²Œ ì„¤ì • ì „ì†¡
  Future<void> sendWeight(double kg) async {
    await _bleService.setWeight(kg);
    state = state.copyWith(currentWeight: kg);
  }
}
```

#### 5.4.2 NFC ê¸°êµ¬ ì¸ì‹

```dart
// lib/data/services/nfc_service.dart

import 'package:nfc_manager/nfc_manager.dart';

class NfcService {
  /// NFC íƒœê·¸ ì½ê¸° â†’ ê¸°êµ¬ ID ë°˜í™˜
  Future<String?> readEquipmentTag() async {
    bool isAvailable = await NfcManager.instance.isAvailable();
    if (!isAvailable) return null;

    Completer<String?> completer = Completer();

    NfcManager.instance.startSession(onDiscovered: (NfcTag tag) async {
      final ndef = Ndef.from(tag);
      if (ndef != null) {
        final message = await ndef.read();
        final record = message.records.first;
        final payload = String.fromCharCodes(record.payload);
        // payload í˜•ì‹: "fica://equipment/{uuid}"
        final equipmentId = payload.split('/').last;
        completer.complete(equipmentId);
      }
      NfcManager.instance.stopSession();
    });

    return completer.future;
  }
}
```

#### 5.4.3 ê¸°êµ¬-ìš´ë™ ë§¤í•‘

```dart
// equipment í…Œì´ë¸”ì—ì„œ exercise_idë¡œ ë§¤í•‘
Future<Exercise?> getExerciseForEquipment(String nfcTagId) async {
  final result = await supabase
      .from('equipment')
      .select('*, exercises(*)')
      .eq('nfc_tag_id', nfcTagId)
      .single();

  if (result != null) {
    return ExerciseModel.fromJson(result['exercises']);
  }
  return null;
}
```

#### 5.4.4 ì˜¤í”„ë¼ì¸ ëª¨ë“œ (3ì¤‘ ì•ˆì „ë§)

```
ë°ì´í„° ì €ì¥ ìš°ì„ ìˆœìœ„:
1. Supabase (ì¸í„°ë„· ìˆìœ¼ë©´) â†’ ì„œë²„ ì €ì¥
2. Hive (ë¡œì»¬) â†’ ì•± ë‚´ë¶€ ì €ì¥
3. ì„¼ì„œ FIFO (BLE ëŠê¸°ë©´) â†’ ì„¼ì„œ ë‚´ë¶€ ì €ì¥

ë™ê¸°í™”:
- ì¸í„°ë„· ë³µêµ¬ â†’ Hive íì—ì„œ Supabaseë¡œ ë™ê¸°í™”
- BLE ë³µêµ¬ â†’ ì„¼ì„œ ë²„í¼ì—ì„œ ì•±ìœ¼ë¡œ ë™ê¸°í™”
```

ê·¸ëŸ¬ë‹ˆê¹Œ ì¸í„°ë„·ì´ ëŠê¸°ë“ , ë¸”ë£¨íˆ¬ìŠ¤ê°€ ëŠê¸°ë“ , ë°ì´í„°ëŠ” ì ˆëŒ€ ì‚¬ë¼ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. 3êµ°ë°ì— ë¶„ì‚° ì €ì¥í•˜ê³ , ì—°ê²°ì´ ë³µêµ¬ë˜ë©´ ìë™ìœ¼ë¡œ ë™ê¸°í™”í•©ë‹ˆë‹¤.

#### 5.4.5 ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Flutter App (V2log)                    â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ WorkoutScreen â”‚  â”‚ FicaOverlay  â”‚  â”‚ EquipmentInfoâ”‚   â”‚
â”‚  â”‚ (ê¸°ì¡´ UI)     â”‚  â”‚ (ì„¼ì„œ ë°ì´í„°) â”‚  â”‚ (ê¸°êµ¬ ì •ë³´)   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                 â”‚                  â”‚           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              FicaController (Riverpod)             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                  â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚ FicaBleServiceâ”‚  â”‚  NfcService  â”‚                     â”‚
â”‚  â”‚ (BLE í†µì‹ )    â”‚  â”‚ (NFC ì½ê¸°)   â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚         â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚ BLE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â–¼                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚
â”‚  â”‚  nRF52840    â”‚  â† Fica ì„¼ì„œ/ì»¨íŠ¸ë¡¤ëŸ¬                   â”‚
â”‚  â”‚  + IMU       â”‚                                        â”‚
â”‚  â”‚  + LED/ë²„íŠ¼   â”‚                                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5.5 ë°±ì—”ë“œ + B2B

ê¸°ì¡´ V2log Supabase ìŠ¤í‚¤ë§ˆë¥¼ í™•ì¥í•˜ì—¬ ê¸°êµ¬ ê´€ë¦¬, í—¬ìŠ¤ì¥ ê´€ë¦¬, ì‚¬ìš© ì¶”ì  ê¸°ëŠ¥ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

#### 5.5.1 DB ìŠ¤í‚¤ë§ˆ í™•ì¥

##### gyms í…Œì´ë¸”

```sql
CREATE TABLE gyms (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name TEXT NOT NULL,
  owner_id UUID REFERENCES users(id),
  address TEXT,
  phone TEXT,
  total_equipment INTEGER DEFAULT 0,
  subscription_plan TEXT DEFAULT 'BASIC'
    CHECK (subscription_plan IN ('BASIC', 'PRO', 'ENTERPRISE')),
  max_equipment INTEGER DEFAULT 10,
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

##### equipment í…Œì´ë¸”

```sql
CREATE TABLE equipment (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  nfc_tag_id TEXT UNIQUE NOT NULL,
  name TEXT NOT NULL,
  type TEXT NOT NULL,
  exercise_id UUID REFERENCES exercises(id),
  gym_id UUID REFERENCES gyms(id) ON DELETE CASCADE,
  location TEXT,
  controller_ble_id TEXT,
  plate_weight_kg DECIMAL(5,2) DEFAULT 0,
  min_weight_kg DECIMAL(5,2) DEFAULT 0,
  max_weight_kg DECIMAL(5,2) DEFAULT 500,
  weight_increment_kg DECIMAL(4,2) DEFAULT 5,
  battery_level INTEGER DEFAULT 100,
  battery_updated_at TIMESTAMPTZ,
  firmware_version TEXT,
  installed_at TIMESTAMPTZ DEFAULT NOW(),
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

##### equipment_usage í…Œì´ë¸”

```sql
CREATE TABLE equipment_usage (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  equipment_id UUID REFERENCES equipment(id) ON DELETE CASCADE,
  user_id UUID REFERENCES users(id) ON DELETE SET NULL,
  session_id UUID REFERENCES workout_sessions(id) ON DELETE SET NULL,
  gym_id UUID REFERENCES gyms(id),
  status TEXT DEFAULT 'IN_USE'
    CHECK (status IN ('IN_USE', 'COMPLETED', 'TIMEOUT', 'CANCELLED')),
  started_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  finished_at TIMESTAMPTZ,
  planned_sets INTEGER,
  planned_duration_seconds INTEGER,
  actual_duration_seconds INTEGER,
  total_sets INTEGER DEFAULT 0,
  total_reps INTEGER DEFAULT 0,
  total_volume DECIMAL(10,2) DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

##### equipment_queue í…Œì´ë¸”

```sql
CREATE TABLE equipment_queue (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  equipment_id UUID REFERENCES equipment(id) ON DELETE CASCADE,
  user_id UUID REFERENCES users(id) ON DELETE CASCADE,
  position INTEGER NOT NULL,
  requested_at TIMESTAMPTZ DEFAULT NOW(),
  notified_at TIMESTAMPTZ,
  expired_at TIMESTAMPTZ,
  status TEXT DEFAULT 'WAITING'
    CHECK (status IN ('WAITING', 'NOTIFIED', 'EXPIRED', 'USED')),
  created_at TIMESTAMPTZ DEFAULT NOW()
);
```

##### í…Œì´ë¸” ê´€ê³„ë„

```
ê¸°ì¡´ V2log ìŠ¤í‚¤ë§ˆ:
  auth.users â† users â† routines â† routine_exercises â†’ exercises
                      â† workout_sessions â† workout_sets â†’ exercises

Fica í™•ì¥:
  users â† gyms (owner)
  gyms â† equipment â† equipment_usage â†’ users, workout_sessions
                    â† equipment_queue â†’ users
  equipment â†’ exercises (ê¸°êµ¬-ìš´ë™ ë§¤í•‘)
```

#### 5.5.2 B2B ëŒ€ì‹œë³´ë“œ

**í•µì‹¬ ê¸°ëŠ¥**:

1. **ì‹¤ì‹œê°„ í˜„í™©íŒ**: ì–´ë–¤ ê¸°êµ¬ê°€ ì‚¬ìš© ì¤‘ì¸ì§€, ëˆ„ê°€ ì“°ê³  ìˆëŠ”ì§€, ëª‡ ì„¸íŠ¸ ë‚¨ì•˜ëŠ”ì§€
2. **ê¸°êµ¬ë³„ ì‚¬ìš© í†µê³„**: ì¼/ì£¼/ì›” ì‚¬ìš© íšŸìˆ˜, ì¸ê¸° ì‹œê°„ëŒ€, í‰ê·  ì‚¬ìš© ì‹œê°„
3. **ë°°í„°ë¦¬ ëª¨ë‹ˆí„°ë§**: ì „ì²´ ì„¼ì„œ ë°°í„°ë¦¬ ì”ëŸ‰, ì¶©ì „ í•„ìš” ì•Œë¦¼
4. **íšŒì› ì‚¬ìš© íŒ¨í„´**: ë°©ë¬¸ ë¹ˆë„, ì„ í˜¸ ê¸°êµ¬, ìš´ë™ ë³¼ë¥¨ ì¶”ì´
5. **ê¸°êµ¬ ëŒ€ê¸°ì—´**: í˜„ì¬ ëŒ€ê¸° ì¸ì›, í‰ê·  ëŒ€ê¸° ì‹œê°„

**ê¸°ìˆ  ìŠ¤íƒ**: Flutter Web ë˜ëŠ” Next.js + Supabase Realtime

#### 5.5.3 ì‚¬ìš©ì‹œê°„ ì»¨íŠ¸ë¡¤ ì‹œìŠ¤í…œ

```
ì‚¬ìš©ì‹œê°„ ìë™ ê³„ì‚°:
  ì´ ì‹œê°„ = (ì„¸íŠ¸ìˆ˜ Ã— í‰ê·  30ì´ˆ) + (ì„¸íŠ¸ìˆ˜ Ã— ì‰¬ëŠ”ì‹œê°„) + ì—¬ìœ  2ë¶„

ëŒ€ê¸°ì—´ ë¡œì§:
  1. ê¸°êµ¬ NFC íƒ­ â†’ ì‚¬ìš© ì¤‘ì´ë©´ "ëŒ€ê¸°ì—´ì— ì¶”ê°€?" íŒì—…
  2. ëŒ€ê¸°ì—´ ë“±ë¡ â†’ position ë²ˆí˜¸ ë¶€ì—¬
  3. í˜„ì¬ ì‚¬ìš©ì ì™„ë£Œ â†’ ë‹¤ìŒ ëŒ€ê¸°ìì—ê²Œ í‘¸ì‹œ ì•Œë¦¼
  4. 5ë¶„ ë‚´ ë¯¸ì‘ë‹µ â†’ ëŒ€ê¸° ë§Œë£Œ, ë‹¤ìŒ ìˆœë²ˆìœ¼ë¡œ

ì‹œê°„ ì´ˆê³¼ ì²˜ë¦¬:
  1. ì˜ˆìƒ ì‹œê°„ ì´ˆê³¼ â†’ ì•± ì•Œë¦¼ "ì‹œê°„ ì´ˆê³¼, ì—°ì¥í•˜ì‹œê² ìŠµë‹ˆê¹Œ?"
  2. ì—°ì¥ ê°€ëŠ¥ (1íšŒ)
  3. 2íšŒ ì´ˆê³¼ ì‹œ â†’ ì‚¬ìš© ì¢…ë£Œ ì²˜ë¦¬
```

#### 5.5.4 B2B êµ¬ë… í”Œëœ

| í•­ëª© | BASIC | PRO | ENTERPRISE |
|------|-------|-----|------------|
| ì›” ìš”ê¸ˆ | 99,000ì› | 299,000ì› | ë³„ë„ í˜‘ì˜ |
| ìµœëŒ€ ê¸°êµ¬ ìˆ˜ | 10ëŒ€ | 50ëŒ€ | ë¬´ì œí•œ |
| ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ | O | O | O |
| ê¸°êµ¬ í†µê³„ | ê¸°ë³¸ | ìƒì„¸ | ì»¤ìŠ¤í…€ |
| ëŒ€ê¸°ì—´ ì‹œìŠ¤í…œ | X | O | O |
| API ì ‘ê·¼ | X | X | O |
| ì „ë‹´ ë§¤ë‹ˆì € | X | X | O |
| OTA ì—…ë°ì´íŠ¸ | O | O | O |
| ë°°í„°ë¦¬ ì•Œë¦¼ | O | O | O |

---

## Ch.6 â€” í•„ìš”í•œ ë¦¬ì†ŒìŠ¤ + êµ¬ë§¤ ëª©ë¡

### 6.1 ê°œë°œ ë‹¨ê³„ë³„ êµ¬ë§¤ ë¦¬ìŠ¤íŠ¸

#### Phase A: ì¦‰ì‹œ êµ¬ë§¤ (í”„ë¡œí† íƒ€ì´í•‘)

| í’ˆëª© | ìˆ˜ëŸ‰ | ì˜ˆìƒ ê°€ê²© | êµ¬ë§¤ì²˜ | ë¹„ê³  |
|------|------|----------|--------|------|
| nRF52840-DK | 1 | ~60,000ì› | Mouser/DigiKey | Nordic ê³µì‹ ê°œë°œ í‚¤íŠ¸ |
| ICM-45686 í‰ê°€ ë³´ë“œ | 1 | ~30,000ì› | TDK/DigiKey | ì„¼ì„œ í…ŒìŠ¤íŠ¸ìš© |
| LSM6DSV í‰ê°€ ë³´ë“œ | 1 | ~20,000ì› | ST/DigiKey | ë¹„êµ í…ŒìŠ¤íŠ¸ìš© (ì„ íƒ) |
| ë¸Œë ˆë“œë³´ë“œ + ì í¼ì„  | 1ì„¸íŠ¸ | ~10,000ì› | ë””ë°”ì´ìŠ¤ë§ˆíŠ¸ | ì—°ê²° í…ŒìŠ¤íŠ¸ |
| TM1637 7-ì„¸ê·¸ ëª¨ë“ˆ | 2 | ~2,000ì› | ë””ë°”ì´ìŠ¤ë§ˆíŠ¸ | LED ë””ìŠ¤í”Œë ˆì´ (GPIO 2í•€) |
| 2ìƒ‰ LED(ì´ˆë¡/ë¹¨ê°•) + 74HC595 | 1ì„¸íŠ¸ | ~4,000ì› | ë””ë°”ì´ìŠ¤ë§ˆíŠ¸ | ì„¸íŠ¸ LED (74HC595 Ã—3 + 2ìƒ‰ LED 10ê°œ) |
| íƒíŠ¸ ìŠ¤ìœ„ì¹˜ | 10 | ~2,000ì› | ë””ë°”ì´ìŠ¤ë§ˆíŠ¸ | ë²„íŠ¼ |
| ì§„ë™ ëª¨í„° | 2 | ~3,000ì› | ë””ë°”ì´ìŠ¤ë§ˆíŠ¸ | ì§„ë™ ì•Œë¦¼ |
| NTAG213 NFC ìŠ¤í‹°ì»¤ | 10 | ~5,000ì› | ì¿ íŒ¡/AliExpress | ê¸°êµ¬ ë¶€ì°©ìš© |
| NT3H2111 ëª¨ë“ˆ | 1 | ~8,000ì› | Mouser | NFC ì»¨íŠ¸ë¡¤ëŸ¬ |
| **ì†Œê³„** | | **~144,000ì›** | | |

#### Phase B: PCB ì œì‘

| í’ˆëª© | ìˆ˜ëŸ‰ | ì˜ˆìƒ ê°€ê²© | êµ¬ë§¤ì²˜ | ë¹„ê³  |
|------|------|----------|--------|------|
| PCB ë°œì£¼ (5ì¥) | 1 | ~50,000ì› | JLCPCB | 2ë ˆì´ì–´, 70x40mm |
| SMD ë¶€í’ˆ í‚¤íŠ¸ | 1 | ~30,000ì› | LCSC | ì €í•­, ì»¤íŒ¨ì‹œí„°, MOSFET ë“± |
| nRF52840 ëª¨ë“ˆ (MDBT50Q) | 2 | ~40,000ì› | Raytac/DigiKey | BLE ëª¨ë“ˆ |
| IMU ì„¼ì„œ (ICM-45686) | 2 | ~24,000ì› | DigiKey | ì„ íƒ ì„¼ì„œ |
| TP4056 + AP2112K | 2 | ~3,000ì› | ë””ë°”ì´ìŠ¤ë§ˆíŠ¸ | ì¶©ì „+LDO |
| LiPo ë°°í„°ë¦¬ 500mAh | 2 | ~10,000ì› | ë””ë°”ì´ìŠ¤ë§ˆíŠ¸ | USB-C ì¶©ì „ |
| USB-C ì»¤ë„¥í„° | 5 | ~3,000ì› | LCSC | ì¶©ì „ í¬íŠ¸ |
| ë„¤ì˜¤ë””ë®´ ìì„ N35 | 20 | ~10,000ì› | ì¿ íŒ¡ | 10mmÃ—3mm |
| **ì†Œê³„** | | **~170,000ì›** | | |

#### Phase C: ì¼€ì´ìŠ¤ + ì¡°ë¦½

| í’ˆëª© | ìˆ˜ëŸ‰ | ì˜ˆìƒ ê°€ê²© | êµ¬ë§¤ì²˜ | ë¹„ê³  |
|------|------|----------|--------|------|
| SLA 3D í”„ë¦°íŒ… | 5ëŒ€ë¶„ | ~100,000ì› | 3D í”„ë¦°íŒ… ì—…ì²´ | ë ˆì§„ ì¶œë ¥ |
| ì‹¤ë¦¬ì½˜ ê°€ìŠ¤ì¼“ | 5 | ~10,000ì› | | IPX4 ë°©ìˆ˜ |
| ì¡°ë¦½ ê³µêµ¬ | 1 | ~20,000ì› | | ë‚©ë•œ ë“± |
| **ì†Œê³„** | | **~130,000ì›** | | |

### 6.2 ì´ ì˜ˆì‚° ìš”ì•½

| ë‹¨ê³„ | ê¸ˆì•¡ |
|------|------|
| Phase A (í”„ë¡œí† íƒ€ì´í•‘) | ~144,000ì› |
| Phase B (PCB ì œì‘) | ~170,000ì› |
| Phase C (ì¼€ì´ìŠ¤+ì¡°ë¦½) | ~130,000ì› |
| **í•©ê³„** | **~444,000ì›** |

### 6.3 ì–‘ì‚° BOM (1,000ëŒ€ ê¸°ì¤€)

| ë¶€í’ˆ | ë‹¨ê°€ | ë¹„ê³  |
|------|------|------|
| nRF52840 ëª¨ë“ˆ | ~$8.50 | ëŒ€ëŸ‰ í• ì¸ |
| IMU (ICM-45686) | ~$5.86 | ë˜ëŠ” LSM6DSV ~$2.00 |
| TM1637 + 7-ì„¸ê·¸ | ~$0.50 | GPIO bit-bang 2í•€ |
| 74HC595 Ã—3 + 2ìƒ‰ LED 10ê°œ | ~$1.20 | ì´ˆë¡/ë¹¨ê°• LED (20ë¹„íŠ¸) |
| NT3H2111 | ~$0.80 | NFC ì»¨íŠ¸ë¡¤ëŸ¬ |
| TP4056 + LDO | ~$0.50 | ì¶©ì „ íšŒë¡œ |
| LiPo 500mAh | ~$2.50 | |
| PCB | ~$1.50 | |
| ì¼€ì´ìŠ¤ (ì‚¬ì¶œ) | ~$3.00 | |
| ìì„ Ã— 4 | ~$0.80 | |
| ê¸°íƒ€ (ì»¤ë„¥í„°, ìˆ˜ë™ì†Œì) | ~$2.00 | |
| **BOM í•©ê³„** | **~$27.16 (ì•½ 35,300ì›)** | ICM-45686 ê¸°ì¤€ |
| **BOM í•©ê³„ (LSM6DSV)** | **~$23.30 (ì•½ 30,300ì›)** | LSM6DSV ê¸°ì¤€ |

### 6.4 NFC ìŠ¤í‹°ì»¤ (ê¸°êµ¬ë‹¹)

| í•­ëª© | ë‹¨ê°€ | ë¹„ê³  |
|------|------|------|
| NTAG213 ìŠ¤í‹°ì»¤ | ~500ì› | ê¸°êµ¬ í”„ë ˆì„ ë¶€ì°© |
| í˜ë¼ì´íŠ¸ ì‹œíŠ¸ (ê¸ˆì†ìš©) | ~300ì› | ê¸ˆì† ê°„ì„­ ë°©ì§€ |
| **ê¸°êµ¬ë‹¹** | **~800ì›** | |

---

## Ch.7 â€” ì„¼ì„œ ì¶”ìƒí™” + ì–‘ì‚° ì „í™˜ ì „ëµ

### 7.1 í˜„ì¬ ìƒí™©

> **ê²°ì • (2026-02-22)**: í”„ë¡œí† íƒ€ì… 3ëŒ€ëŠ” **ICM-45686**ìœ¼ë¡œ ê°œë°œ. ì–‘ì‚° ì‹œ LSM6DSV ì¬ê²€í† .

ICM-45686ì„ ì„ íƒí–ˆì§€ë§Œ, ì–‘ì‚° ë‹¨ê³„ì—ì„œ LSM6DSVë¡œ ì „í™˜í•  ê°€ëŠ¥ì„±ì„ ì—´ì–´ë‘ê¸° ìœ„í•´ ì¶”ìƒí™” ì „ëµì„ ìœ ì§€í•©ë‹ˆë‹¤. ì „ì²´ ê°œë°œì˜ 95%ëŠ” ì„¼ì„œ êµì²´ì™€ ë¬´ê´€í•˜ê²Œ ì½”ë“œê°€ ë™ì¼í•©ë‹ˆë‹¤.

### 7.2 ì¦‰ì‹œ ì°©ìˆ˜ ê°€ëŠ¥ (95%)

ë‹¤ìŒ í•­ëª©ë“¤ì€ ì–´ë–¤ ì„¼ì„œë¥¼ ì„ íƒí•˜ë“  ì½”ë“œ/ì„¤ê³„ê°€ ë™ì¼í•©ë‹ˆë‹¤:

| ì˜ì—­ | í•­ëª© |
|------|------|
| **íŒì›¨ì–´** | BLE GATT ì„œë¹„ìŠ¤, LED ì œì–´, ë²„íŠ¼ ì²˜ë¦¬, ì§„ë™ ëª¨í„°, ë°°í„°ë¦¬ ê´€ë¦¬, ìƒíƒœ ë¨¸ì‹ , íœ´ì‹ íƒ€ì´ë¨¸, OTA |
| **ì•Œê³ ë¦¬ì¦˜** | ì¹´ìš´íŒ… ë¡œì§ ì„¤ê³„ (Peak Detection, Velocity Gate, Confirmation System) |
| **ì•±** | BLE ì—°ë™, NFC ì½ê¸°, UI ì „ì²´, ì˜¤í”„ë¼ì¸ ëª¨ë“œ, ë°ì´í„° ë™ê¸°í™” |
| **ë°±ì—”ë“œ** | DB ìŠ¤í‚¤ë§ˆ (equipment, usage, queue, gyms), B2B ëŒ€ì‹œë³´ë“œ |
| **í•˜ë“œì›¨ì–´** | PCB ë ˆì´ì•„ì›ƒ (IMU í’‹í”„ë¦°íŠ¸ ë¹ˆì¹¸), ì¼€ì´ìŠ¤, ìì„ ë§ˆìš´íŠ¸ |

### 7.3 ì„¼ì„œ ì„ íƒ í›„ì—ë§Œ ê°€ëŠ¥ (5%)

| í•­ëª© | ICM-45686 | LSM6DSV |
|------|-----------|---------|
| IMU ë“œë¼ì´ë²„ ì½”ë“œ | icm45686_driver.c | lsm6dsv_driver.c |
| FIFO ì½ê¸° ì „ëµ | 8KB, 256ìƒ˜í”Œ ë°°ì¹˜ | 4KB, 128ìƒ˜í”Œ ë°°ì¹˜ |
| ì˜¨ë„ ë³´ì • | ë¶ˆí•„ìš” | í•„ìˆ˜ ê°œë°œ |
| PCB IMU í’‹í”„ë¦°íŠ¸ | 2.5Ã—3.0mm LGA | 2.5Ã—3.0mm LGA (ë™ì¼) |
| ì „ë ¥ í”„ë¡œíŒŒì¼ë§ | 6.5ÂµA â†’ 10~14ì¼ | 13ÂµA â†’ 8~9ì¼ |

### 7.4 ì¶”ìƒí™” ì „ëµ

ë“œë¼ì´ë²„ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë¨¼ì € ì •ì˜í•˜ê³ , êµ¬í˜„ì€ ì„¼ì„œ í™•ì • í›„ ì±„ì›ë‹ˆë‹¤:

```c
// sensor_interface.h â€” ì„¼ì„œ ë¬´ê´€ ì¸í„°í˜ì´ìŠ¤
typedef struct {
    float accel_x, accel_y, accel_z;
    float gyro_x, gyro_y, gyro_z;
    uint32_t timestamp_ms;
} imu_sample_t;

typedef struct {
    const char *name;
    int (*init)(void);
    int (*read_fifo)(imu_sample_t *buf, int max_samples);
    int (*sleep)(void);
    float (*get_temperature)(void);
} imu_driver_t;

// ì„¼ì„œ ì„ íƒ í›„ ì´ ì¤‘ í•˜ë‚˜ë§Œ ì—°ê²°
extern const imu_driver_t icm45686_driver;
extern const imu_driver_t lsm6dsv_driver;
```

ê·¸ëŸ¬ë‹ˆê¹Œ "ì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì„¼ì„œ ë°ì´í„°ê°€ ë‚˜ì˜¨ë‹¤"ëŠ” ì•½ì†ë§Œ ì •í•´ë‘ê³ , ì‹¤ì œë¡œ ì–´ë–¤ ì„¼ì„œì—ì„œ ì½ì„ì§€ëŠ” ë‚˜ì¤‘ì— ê²°ì •í•˜ëŠ” ê²ë‹ˆë‹¤. ì‹ë‹¹ ë©”ë‰´íŒì€ ê°™ì€ë°, ì£¼ë°©ì¥(ì„¼ì„œ)ë§Œ ë°”ê¾¸ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

### 7.5 Kconfig ë¹Œë“œ ë¶„ê¸°

Zephyrì˜ Kconfig ì‹œìŠ¤í…œìœ¼ë¡œ ë¹Œë“œ ì‹œ ì„¼ì„œë¥¼ ì„ íƒí•©ë‹ˆë‹¤:

```kconfig
# prj.confì—ì„œ ì„¼ì„œ ì„ íƒ
choice IMU_SENSOR
    prompt "IMU Sensor Model"
    default IMU_ICM45686

config IMU_ICM45686
    bool "InvenSense ICM-45686"
    help
      TDK InvenSense ICM-45686 6-axis IMU.
      FIFO 8KB, 20000g shock, BalancedGyro.

config IMU_LSM6DSV
    bool "ST LSM6DSV"
    help
      STMicroelectronics LSM6DSV 6-axis IMU.
      FIFO 4KB, FSM 8ê°œ ë‚´ì¥, ì €ê°€.

endchoice
```

**CMakeLists.txt**:

```cmake
if(CONFIG_IMU_ICM45686)
    target_sources(app PRIVATE src/drivers/icm45686_driver.c)
elseif(CONFIG_IMU_LSM6DSV)
    target_sources(app PRIVATE src/drivers/lsm6dsv_driver.c)
endif()
```

### 7.6 ê°œë°œ ìˆœì„œ ê¶Œì¥

```
ì§€ê¸ˆ ë°”ë¡œ (ì„¼ì„œ ë¬´ê´€):
â”œâ”€â”€ BLE GATT í”„ë¡œí† ì½œ í™•ì •
â”œâ”€â”€ ì•± BLE ì—°ë™ (ë”ë¯¸ ë°ì´í„°)
â”œâ”€â”€ NFC ì½ê¸° êµ¬í˜„
â”œâ”€â”€ LED/ë²„íŠ¼/ì§„ë™ êµ¬í˜„
â”œâ”€â”€ ìƒíƒœ ë¨¸ì‹  êµ¬í˜„
â”œâ”€â”€ ì¹´ìš´íŒ… ì•Œê³ ë¦¬ì¦˜ ì„¤ê³„
â”œâ”€â”€ DB ìŠ¤í‚¤ë§ˆ ìƒì„±
â””â”€â”€ PCB ì„¤ê³„ (IMU ë¹ˆì¹¸)

ì„¼ì„œ í™•ì • í›„ (2~3ì£¼):
â”œâ”€â”€ IMU ë“œë¼ì´ë²„ ì‘ì„±
â”œâ”€â”€ FIFO ìµœì í™”
â”œâ”€â”€ ì˜¨ë„ ë³´ì • (LSMë§Œ)
â”œâ”€â”€ ì „ë ¥ í”„ë¡œíŒŒì¼ë§
â””â”€â”€ PCB IMU í’‹í”„ë¦°íŠ¸ ì±„ìš°ê¸°
```

---

## Ch.8 â€” í™•ì • ì‚¬í•­ + ë‹¤ìŒ ë‹¨ê³„

### 8.1 í™•ì • ì‚¬í•­ (2026-02-22)

| í•­ëª© | ê²°ì • | ê·¼ê±° |
|------|------|------|
| **ì„¼ì„œ ëª¨ë¸** | **ICM-45686** (í”„ë¡œí†  3ëŒ€ â†’ ì–‘ì‚° ì‹œ LSM6DSV ì¬ê²€í† ) | ì„±ëŠ¥ ìµœìš°ì„  (20,000g ì¶©ê²©, 8KB FIFO, BalancedGyro) |
| **ì„¸íŠ¸ ìˆ˜ ì…ë ¥** | **ì•±ì—ì„œ ì„¤ì • â†’ BLE ì „ì†¡** | Zero Interaction ì›ì¹™ â€” ìš´ë™ ì¤‘ ì»¨íŠ¸ë¡¤ëŸ¬ ì¡°ì‘ ìµœì†Œí™” |
| **íšŸìˆ˜ ë™ê¸°í™”** | **Rep=ì‹¤ì‹œê°„ Notify + Session=ì™„ë£Œ í›„ Indicate** | í•˜ì´ë¸Œë¦¬ë“œ â€” ì‹¤ì‹œê°„ UX + ì„¸ì…˜ ì™„ë£Œ ì‹œ ì•ˆì •ì  ë°°ì¹˜ ì „ì†¡ |
| **7-seg ë“œë¼ì´ë²„** | **TM1637** (GPIO bit-bang 2í•€, P0.11 CLK, P0.12 DIO) | IMU SPI0 ë²„ìŠ¤ ë…ë¦½ (ì¶©ëŒ ì—†ìŒ), ë¹„ìš© ~$0.50 (MAX7219 ëŒ€ë¹„ 1/3) |
| **ì„¸íŠ¸ LED** | **74HC595 Ã—3 + 2ìƒ‰ LED(ì´ˆë¡/ë¹¨ê°•) 10ê°œ** (20ë¹„íŠ¸) | ëŒ€ê¸°ì „ë ¥ 0.024mA (WS2812B 6mA ëŒ€ë¹„ 250ë°° ì ˆì•½), 4ê°€ì§€ ìƒíƒœ í‘œí˜„ |

### 8.2 ë‹¤ìŒ ë‹¨ê³„ (ìš°ì„ ìˆœìœ„)

| ìˆœì„œ | ì‘ì—… | ì†Œìš” | ì‚°ì¶œë¬¼ |
|------|------|------|--------|
| 1 | BLE GATT í”„ë¡œí† ì½œ í™•ì • | 2~3ì¼ | GATT ìŠ¤í™ ë¬¸ì„œ |
| 2 | nRF52840-DK + IMU í‰ê°€ë³´ë“œ êµ¬ë§¤ | ë°°ì†¡ 1~2ì£¼ | ê°œë°œ í‚¤íŠ¸ |
| 3 | Zephyr í™˜ê²½ êµ¬ì¶• | 1ì£¼ì°¨ | ë¹Œë“œ+í”Œë˜ì‹œ í™•ì¸ |
| 4 | BLE ì„œë¹„ìŠ¤ + ì•± ì—°ê²° | 2ì£¼ì°¨ | ë”ë¯¸ ë°ì´í„° ì†¡ìˆ˜ì‹  |
| 5 | IMU ë“œë¼ì´ë²„ + ì¹´ìš´íŒ… í”„ë¡œí† íƒ€ì… | 3ì£¼ì°¨ | ë°”ì´ì…‰ ì»¬ 80%+ ì •í™•ë„ |
| 6 | ë¸Œë ˆë“œë³´ë“œ í†µí•© + í—¬ìŠ¤ì¥ 1ì°¨ í…ŒìŠ¤íŠ¸ | 4ì£¼ì°¨ | 3ì¢… ìš´ë™ 85%+ |
| 7 | PCB ì„¤ê³„/ë°œì£¼ + ì¼€ì´ìŠ¤ | 6ì£¼ì°¨ | ì‹¤ë¬¼ í”„ë¡œí† íƒ€ì… |
| 8 | í”„ë¡œí† íƒ€ì… ì¡°ë¦½ + B2B ëŒ€ì‹œë³´ë“œ + í•„ë“œ í…ŒìŠ¤íŠ¸ | 8~10ì£¼ì°¨ | 2ì£¼ê°„ ìš´ì˜ ê²€ì¦ |

### 8.3 ë¦¬ìŠ¤í¬ ê´€ë¦¬

| ë¦¬ìŠ¤í¬ | í™•ë¥  | ì˜í–¥ë„ | ëŒ€ì‘ ë°©ì•ˆ |
|--------|------|--------|----------|
| IMU ì§„ë™ ë…¸ì´ì¦ˆ | ì¤‘ | ë†’ | Adaptive Threshold + ê¸°ê³„ì  ê²©ë¦¬ (ì‹¤ë¦¬ì½˜ ëŒí¼) |
| BLE ëŠê¹€ (í—¬ìŠ¤ì¥ ê°„ì„­) | ë†’ | ì¤‘ | ë¡œì»¬ ë²„í¼ë§ + ìë™ ì¬ì—°ê²° (3ì¤‘ ì•ˆì „ë§) |
| ë°°í„°ë¦¬ ìˆ˜ëª… ë¶€ì¡± | ì¤‘ | ì¤‘ | Sleep ìµœì í™” + ë°°ì¹˜ ì „ì†¡ + ëŒ€ìš©ëŸ‰ ë°°í„°ë¦¬ ì˜µì…˜ |
| ì•ˆì „ë°” ì˜¤ì¹´ìš´íŒ… | ë†’ | ë†’ | Confirmation System (V2log CVì—ì„œ ê²€ì¦ ì™„ë£Œ) |
| NFC ê¸ˆì† ê°„ì„­ | ì¤‘ | ë‚® | ë¹„ê¸ˆì† ë¶€ë¶„ ë¶€ì°© + í˜ë¼ì´íŠ¸ ì‹œíŠ¸ |
| 45Â° ê¸°êµ¬ ê°ë„ ë³´ì • ì˜¤ë¥˜ | ì¤‘ | ì¤‘ | ê¸°êµ¬ë³„ ë³´ì • í”„ë¡œíŒŒì¼ + ìº˜ë¦¬ë¸Œë ˆì´ì…˜ ëª¨ë“œ |

### 8.4 ì„±ê³µ ê¸°ì¤€ (ë§ˆì¼ìŠ¤í†¤)

| ë§ˆì¼ìŠ¤í†¤ | ì‹œê¸° | ê¸°ì¤€ |
|---------|------|------|
| **M1: DK ë°ëª¨** | 2ì£¼ | BLEë¡œ ë”ë¯¸ íšŸìˆ˜ â†’ ì•± í‘œì‹œ ì„±ê³µ |
| **M2: ì„¼ì„œ ë°ëª¨** | 3ì£¼ | ë°”ì´ì…‰ ì»¬ 80%+ ì •í™•ë„ ë‹¬ì„± |
| **M3: ë¸Œë ˆë“œë³´ë“œ í†µí•©** | 4ì£¼ | ì „ì²´ ë¶€í’ˆ ë™ì‘ í™•ì¸ (LED+ë²„íŠ¼+ì§„ë™+BLE+NFC) |
| **M4: í—¬ìŠ¤ì¥ 1ì°¨ í…ŒìŠ¤íŠ¸** | 4ì£¼ | 3ì¢… ìš´ë™ 85%+ ì •í™•ë„ |
| **M5: PCB í”„ë¡œí† íƒ€ì…** | 8ì£¼ | ì‹¤ë¬¼ 5ëŒ€ ì¡°ë¦½ ì™„ë£Œ |
| **M6: í•„ë“œ í…ŒìŠ¤íŠ¸** | 10ì£¼ | 2ì£¼ê°„ ì‹¤ì œ í—¬ìŠ¤ì¥ ìš´ì˜ |
| **M7: ì–‘ì‚° ì¤€ë¹„** | 12ì£¼ | BOM í™•ì • + ì¸ì¦ ì„œë¥˜ ì¤€ë¹„ |

### 8.5 ì¥ê¸° ë¡œë“œë§µ

```
Phase 1 (í˜„ì¬~12ì£¼): MVP í”„ë¡œí† íƒ€ì…
  â†’ ì„¼ì„œ 5ëŒ€ + B2C ì•± ì—°ë™ + 3ì¢… ìš´ë™ ì§€ì›

Phase 2 (13~24ì£¼): B2B íŒŒì¼ëŸ¿
  â†’ í—¬ìŠ¤ì¥ 1ê³³ 50ëŒ€ ì„¤ì¹˜ + B2B ëŒ€ì‹œë³´ë“œ + ëŒ€ê¸°ì—´ ì‹œìŠ¤í…œ

Phase 3 (25~36ì£¼): ì–‘ì‚° + í™•ì¥
  â†’ OEM ì–‘ì‚° 1,000ëŒ€ + B2B 3ê³³ + 10ì¢… ìš´ë™ í™•ëŒ€

Phase 4 (37ì£¼~): í”Œë«í¼í™”
  â†’ BLE Mesh ë‹¤ì¤‘ ì„¼ì„œ + AI ë£¨í‹´ ì¶”ì²œ + íƒ€ ì•± API ì œê³µ
```

---

> **ë¬¸ì„œ ë**
> ì´ ë¬¸ì„œëŠ” 5ê°œ ì „ë¬¸ ì—ì´ì „íŠ¸(ì„ë² ë””ë“œ, í•˜ë“œì›¨ì–´, BLE/ì•±, ë°±ì—”ë“œ, í†µí•©)ê°€ ë³‘ë ¬ë¡œ ë¦¬ì„œì¹˜í•œ ê²°ê³¼ë¥¼ ì¢…í•©í•œ ê²ƒì…ë‹ˆë‹¤. v1.1ì—ì„œ 5ê°œ í•˜ë“œì›¨ì–´ ê²°ì •(ì„¼ì„œ=ICM-45686, ì„¸íŠ¸ì…ë ¥=ì•±, íšŸìˆ˜ë™ê¸°í™”=í•˜ì´ë¸Œë¦¬ë“œ, 7-seg=TM1637, ì„¸íŠ¸LED=74HC595Ã—3+2ìƒ‰)ì´ ë°˜ì˜ë˜ì—ˆìŠµë‹ˆë‹¤.
