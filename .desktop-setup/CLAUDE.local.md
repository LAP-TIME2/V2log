# 🧠 개인 작업 규칙 — 이관주

## 📌 핵심 원칙
- 모든 응답은 한국어로
- 코딩 초보자 수준에 맞춰 설명 (전문 용어 사용 시 괄호 안에 쉬운 설명 추가)
- 코드 수정은 필요한 만큼 제한 없이 진행 (성능 최대 활용)
- 코드 수정 전에 현재 상태와 수정 이유를 먼저 설명
- **설명할 때는 한 번에 3개씩 나눠서** 쉽게 풀어서 전달 (한꺼번에 쏟아붓지 않기)
- **기술 설명 후 반드시 "그러니까" + 쉬운 설명 붙이기**
  - 예시: `platformBrightness getter 잔존` → 그러니까 "시스템 밝기"를 가져오는 코드가 남아있는데, 우리 앱은 앱 자체 설정을 쓰니까 지우는 거예요
  - 예시: `CHECK 제약조건 위반` → 그러니까 DB에 저장할 때 "이 값만 허용해요" 규칙이 있는데, 허용 안 되는 값을 넣으려고 해서 에러가 나는 거예요

## 📝 세션 로그 규칙 (공부용 자동 기록)

### 작동 방식
- Claude가 작업 중 `.claude/session-log.md`에 상세 기록을 남김
- compact 시 PreCompact 훅이 이 파일을 읽어서 Notion 노트 DB에 자동 전송
- 전송 후 파일 자동 초기화

### 세션 로그 작성 타이밍 — ⚡ 즉시 기록 원칙 (CRITICAL)
아래 상황이 발생하면 **즉시** `.claude/session-log.md`에 **추가(append)** 한다.
"나중에 몰아서" 쓰기 금지 — auto-compact가 예고 없이 발생하면 디테일 소실됨.

**즉시 기록 트리거 (발생 직후 바로 기록):**
1. **에러 발생 및 해결 시** — 에러 내용, 원인, 해결 방법, 배운 점
2. **사용자 질문에 답변 후** — 질문 원문 + 답변 핵심 + 코드 변경 내역
3. **커밋/푸시 시** — 커밋 메시지, 변경 파일, 변경 상세
4. **핵심 패턴/개념 등장 시** — 코딩 초보자가 공부할 수 있는 설명
5. **빌드 성공/실패 시** — 결과와 수정 사항

**절대 하면 안 되는 것:**
- ❌ 커밋 직전에 몰아서 기록
- ❌ 사용자가 "기록해줘"라고 요청할 때까지 기다리기
- ❌ "나중에 정리하자"는 생각

## 📋 수정노트 규칙 (프로젝트별 영구 기록)

### 역할
- `docs/CV_수정노트.md` 같은 **Git 커밋되는 영구 파일**
- session-log가 "오늘 일기"라면, 수정노트는 "교과서" — Git에 영구 보존
- compact/세션 종료와 무관하게 항상 남아 있음

### 작성 타이밍
아래 상황 발생 시 **해당 수정노트 파일에 즉시 추가**:
1. **버그 발견 → 원인 분석 → 해결** 완료 후
2. **사용자 질문 → 코드 수정** 완료 후 (질문 원문 포함!)
3. **새로운 기능/시스템 설계** 완료 후

### 수정노트 vs 세션로그 차이
| 항목 | 세션 로그 | 수정노트 |
|------|----------|---------|
| 파일 | `.claude/session-log.md` | `docs/XX_수정노트.md` |
| 저장 | Notion (PreCompact 훅) | **Git 커밋** |
| 수명 | 세션별 초기화 | 영구 누적 |
| 내용 | 작업 타임라인 + 세션 요약 | 오류/질문/해결 과정 (공부용) |
| 형식 | 시간순 기록 | 버전별 구조화 |

### 세션 로그 형식 (.claude/session-log.md)
```markdown
## 🕐 작업 타임라인

### [HH:MM] 작업 제목
- **작업 내용**: 무엇을 했는지 간략히
- **수정 파일**: `파일경로` — 변경 내용 설명
- **결과**: 성공/실패

### [HH:MM] 💡 핵심 패턴: [패턴 이름]
- **개념**: 이 패턴이 뭔지 쉽게 설명
- **왜 필요한가**: 이걸 안 쓰면 어떤 문제가 생기는지
- **코드 예시**: 실제 적용한 코드 간략히
- **쉬운 비유**: 일상생활에 비유하면

### [HH:MM] ❌ 에러 발생 → ✅ 해결
- **에러 메시지**: 실제 에러 내용
- **원인 (쉽게)**: 왜 이 에러가 발생했는지 초보자가 이해할 수 있게
- **해결 과정**: 1단계 → 2단계 → 3단계
- **배운 점**: 다음에 같은 실수를 안 하려면

### 🔀 [HH:MM] Git 커밋
- **커밋 메시지**: feat: 기능 설명
- **변경 파일 목록**:
  - `파일경로` — 변경 내용 설명
- **변경 상세**: 무엇이 어떻게 바뀌었는지

---
## 📊 세션 요약
- 완료한 작업: N개
- 발생한 에러: N개
- 배운 핵심 패턴: [패턴 이름 나열]
- 주요 성과: 한 줄 요약
```

### Notion 연결 정보
- 노트 DB (Public API ID): 2ee11395-4070-811e-bd43-d9e8b44fb595
- 영역·자원 "개발 역량 강화" ID: 2ee1139540708195bc6bc36bc1a53202
- PreCompact 훅이 자동으로 Notion에 전송 (수동 호출 불필요)

## 🔧 커밋 규칙
- 커밋 메시지는 한국어 본문 + 영어 타입 접두사
- 형식: `feat: 기능 설명` / `fix: 버그 설명` / `refactor: 변경 설명`
- 커밋 단위는 기능 하나 완성될 때마다

## 🔄 커밋/푸시 후 CLAUDE.md 동기화 규칙 (CRITICAL)
- **커밋할 때마다 CLAUDE.md의 "개발 진행 상황" 섹션을 실제 코드 상태에 맞게 업데이트**
- 새 기능 완성 → `[ ]`를 `[x]`로 변경 + 구현 방식 간략 메모
- 새 Phase/기능 추가 시 → 항목 추가
- **커밋에 CLAUDE.md 변경도 함께 포함**시킬 것
- 이유: CLAUDE.md가 오래되면 다음 세션에서 이미 완성된 기능을 미완성으로 착각함

## ⚠️ 주의사항
- Notion 메인 대시보드(2ee11395407080b4aeefdbb5369ff89b) 절대 수정 금지
- 시간표 허브 페이지(30211395-4070-8157-8458-f48f274fa252) 절대 수정 금지
- Notion 작업은 노트 생성/수정만 허용
- 노트 생성 시 항상 "영역·자원"에 "개발 역량 강화" 연결 필수
